import{y as C,z as R,a as B,r as p,A as K,p as L,q as x,D as _,E as M,x as z,G as A,h as F,j as s,R as I,C as W,b as c,c as t,H as T,J as q,K as D,n as E,o as H,s as $,M as G,L as g,N as j,I as w,B as n,t as f,P as U,T as J}from"./index-59030646.js";const m=new J,b=O=>{var h;document.title="Reset Password | AHU RI";const[k]=R(),y=k.get("token"),r=B(),[o,N]=p.useState(!1),[i,v]=p.useState(!1),a=K({enableReinitialize:!0,initialValues:{password:"",confirm_password:""},validationSchema:L({password:x().required("Kata sandi baru Wajib diisi").matches(/[a-z]/,"Kata sandi harus mengandung huruf kecil").matches(/[A-Z]/,"Kata sandi harus mengandung huruf kapital").matches(/\d/,"Kata sandi harus mengandung angka").min(8,"Kata sandi minimal 8 karakter"),confirm_password:x().required("Kata sandi baru Wajib diisi").oneOf([_("password"),null],"Konfirmasi kata sandi tidak cocok dengan kata sandi baru")}),onSubmit:async e=>{try{m.customShowLoading({title:"Harap Tunggu",msg:"Proses Reset Password..."});const l={token:y,password:e.password};await M(l),await m.customWarningMsgWBackdrop("Reset Password Berhasil Dilakukan, Silahkan Login")&&r("/login")}catch(l){z(l),await m.customWarningMsgWBackdrop("Reset Password gagal dilakukan, harap coba kembali melakukan reset password di Form Login")&&r("/login")}}}),P=A(e=>e.Login,e=>({error:e.error})),{error:d}=F(P),u=((h=d==null?void 0:d.data)==null?void 0:h.message)||"";return s.jsx(I.Fragment,{children:s.jsx("div",{className:"account-pages d-flex justify-content-center align-items-center",style:{height:"100vh"},children:s.jsxs(W,{children:[s.jsx(c,{className:"d-flex justify-content-center",children:s.jsx(t,{xs:10,md:6,children:s.jsx("div",{className:"d-flex align-items-center justify-content-center pb-5",children:s.jsx("img",{src:T,alt:"ahulink-logo",className:"cursor-pointer",onClick:()=>r("/")})})})}),s.jsx(c,{className:"justify-content-center",children:s.jsx(t,{md:8,lg:6,children:s.jsxs("div",{className:"position-relative z-0",children:[s.jsx("img",{className:"position-absolute",style:{top:20,right:-70},src:q,alt:""}),s.jsx("img",{className:"position-absolute",style:{bottom:30,left:-75},src:D,alt:""}),s.jsx(E,{className:"overflow-hidden z-1 rounded-3 shadow-lg border-2 border-secondary border-opacity-25",children:s.jsx(H,{className:"p-5",children:s.jsxs($,{className:"form-horizontal",onSubmit:e=>(e.preventDefault(),a.handleSubmit(),!1),children:[s.jsxs("div",{className:"text-center mb-5",children:[s.jsx("h1",{className:"fs-4 text-primary lh-1",children:"Reset Password"}),s.jsx("h1",{className:"fs-6 fw-light text-secondary lh-1",children:"Masukkan kata sandi baru untuk melanjutkan akses ke akun Anda."})]}),u?s.jsx(G,{color:"danger",children:u}):null,s.jsxs("div",{className:"mb-3",children:[s.jsxs(g,{children:["Password Baru ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsxs(j,{children:[s.jsx(w,{tabIndex:2,type:o?"text":"password",name:"password",autoComplete:"off",value:a.values.password||"",placeholder:"Masukkan kata sandi baru anda",onChange:a.handleChange,onBlur:a.handleBlur,invalid:!!(a.touched.password&&a.errors.password)}),s.jsx(n,{className:"bg-white text-black border-start-0 border-secondary border-opacity-25",onClick:()=>N(!o),children:o?s.jsx("i",{className:"mdi mdi-eye-off-outline fs-4 text-secondary"}):s.jsx("i",{className:"mdi mdi-eye-outline fs-4 text-secondary"})}),a.touched.password&&a.errors.password?s.jsx(f,{type:"invalid",children:a.errors.password}):null]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs(g,{children:["Konfirmasi Password ",s.jsx("span",{className:"text-danger",children:"*"})]}),s.jsxs(j,{children:[s.jsx(w,{tabIndex:2,type:i?"text":"password",name:"confirm_password",autoComplete:"off",value:a.values.confirm_password||"",placeholder:"Ulangi kata sandi baru anda",onChange:a.handleChange,onBlur:a.handleBlur,invalid:!!(a.touched.confirm_password&&a.errors.confirm_password)}),s.jsx(n,{className:"bg-white text-black border-start-0 border-secondary border-opacity-25",onClick:()=>v(!i),children:i?s.jsx("i",{className:"mdi mdi-eye-off-outline fs-4 text-secondary"}):s.jsx("i",{className:"mdi mdi-eye-outline fs-4 text-secondary"})}),a.touched.confirm_password&&a.errors.confirm_password?s.jsx(f,{type:"invalid",children:a.errors.confirm_password}):null]})]}),s.jsxs(c,{className:"mt-5",children:[s.jsx(t,{xs:6,children:s.jsx("div",{children:s.jsx(n,{className:"w-100",outline:!0,onClick:()=>r("/login"),children:"Kembali"})})}),s.jsx(t,{xs:6,children:s.jsx("div",{children:s.jsx(n,{className:"w-100",color:"primary",type:"submit",children:"Selanjutnya"})})})]})]})})})]})})})]})})})},Q=C(b);b.propTypes={history:U.object};export{Q as default};
