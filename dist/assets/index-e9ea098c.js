import{r as u,A as ba,j as a,bw as Ea,s as xa,b as g,c as r,bY as N,bZ as Da,bU as L,b_ as fa,b$ as Ka,p as W,q as y,c8 as X,c6 as Fa,w as sa,T as pa,a as Ia,c7 as Q,x as ra,bV as Ca,bW as La,bX as qa,aG as F,h as aa,c0 as H,c1 as ya,c2 as Ra,ck as Ba,c3 as Ma,c4 as Ua,c5 as za,b8 as ka,cn as J,u as Oa,ca as Va,c9 as Wa,cc as Ha,cd as Ga,cb as $a}from"./index-1205c25f.js";import{A as Ja,p as Ya,S as Za}from"./image 34-1d1c55d7.js";import{c as Xa}from"./coupon-42650ed8.js";import{p as wa,b as Qa,c as ae,s as ee,g as ma,d as ha,r as ne,a as ca,F as q,R as _,e as te,f as ie,L as re,S as se}from"./Banner-63305c10.js";import{p as R}from"./fileValidation-c17bae19.js";import{r as O,a as le,t as ua,g as B}from"./random-379983e1.js";import{C as oe}from"./CustomStepConnector-aa249293.js";import{D as de}from"./Drafts-646cb459.js";import{F as v}from"./AutoComplete-0ff43364.js";import{J as he,T as ga}from"./master-802def31.js";import{f as M}from"./changeTimeIndo-f11d9ea6.js";import{M as pe}from"./MessageBox-20683b0c.js";import"./DialogActions-4f943394.js";import"./Card-9ea032c2.js";import"./CardContent-ef5ecefa.js";function me(){const[e,t]=u.useState(!1),[n,h]=u.useState(1),o=()=>{t(!0),h(1)},m=()=>{t(!1),h(1)},c=[{label:"Pewarganegaraan berdasarkan perkawinan campuran",value:"Pewarganegaraan berdasarkan perkawinan campuran"}],p=ba({enableReinitialize:!0,initialValues:{jumlahPembelian:1,subLayanan:""},validationSchema:Xa,onSubmit:s=>{h(2)}}),l=()=>n===1?a.jsx(xa,{onSubmit:p.handleSubmit,children:a.jsxs(g,{children:[a.jsx(r,{xs:"12",children:a.jsx(N,{formik:p,name:"jumlahPembelian",placeholder:"Tulis jumlah pembelian",required:!0,type:"number",readonly:!0})}),a.jsx(r,{xs:"12",children:a.jsx(Da,{formik:p,name:"subLayanan",placeholder:"Pilih sub layanan jasa hukum",options:c,required:!0})})]})}):n===2?a.jsx(xa,{children:a.jsx(g,{children:a.jsx(r,{xs:"12",children:a.jsxs("div",{children:[a.jsx("img",{src:Ya,alt:"Panduan Pembayaran",style:{maxWidth:"100%",margin:"16px 0"}}),a.jsx(L,{onClick:p.handleSubmit,text:"Download",leftIcon:a.jsx(Za,{}),textColor:"#041662",bgColor:"transparent",border:"1px solid #E7E7E7",hoverColor:"#041992"}),a.jsx("p",{style:{color:"#6D6D6D",fontFamily:"Poppins",fontWeight:400,fontSize:"14px"},children:'Apabila telah melakukan pembayaran tetapi status pembayaran "belum bayar", Anda dapat melakukan konfirmasi pembayaran pada menu konfirmasi pembayaran.'}),a.jsx("p",{style:{color:"#6D6D6D",fontFamily:"Poppins",fontWeight:400,fontSize:"14px"},children:"Apabila masih terdapat kendala terkait pembayaran PNBP, Anda dapat melakukan konsultasi pada menu Konsultasi Pembayaran."}),a.jsx("p",{style:{color:"#6D6D6D",fontFamily:"Poppins",fontWeight:400,fontSize:"14px"},children:"Untuk panduan cara pembayaran dapat diakses pada link berikut."})]})})})}):null,i=()=>{if(n===1)return a.jsxs(a.Fragment,{children:[a.jsx(L,{text:"Kembali",onClick:m,textColor:"#041662",bgColor:"transparent",border:"1px solid #E7E7E7"}),a.jsx(L,{text:"Selanjutnya",rightIcon:a.jsx(fa,{}),onClick:p.handleSubmit,bgColor:"#041662",textColor:"#fff",hoverColor:"#041992"})]});if(n===2)return a.jsxs(a.Fragment,{children:[a.jsx(L,{text:"Sebelumnya",onClick:()=>h(1),textColor:"#041662",bgColor:"transparent",border:"1px solid #E7E7E7",hoverColor:"#041992"}),a.jsx(L,{onClick:()=>m(),text:"Selanjutnya",rightIcon:a.jsx(Ka,{})})]})};return a.jsxs(a.Fragment,{children:[a.jsx(Ea,{style:{textDecoration:"underline",color:"#041662",fontWeight:500,fontSize:"14px",fontFamily:"Poppins",textTransform:"initial"},onClick:o,children:"Beli Voucher di SIMPADHU"}),a.jsx(Ja,{open:e,onClose:m,title:"Pembelian Voucher",description:n===1?"Silahkan pilih layanan yang anda inginkan":"Berikut adalah bukti pemesanan voucher anda",actions:i(),children:l()})]})}const ce=({formik:e,setActiveStep:t,label:n})=>{u.useState("");const[h,o]=u.useState(!1),m=()=>{o(!0),!e.errors.voucher&&e.values.voucher?setTimeout(()=>{t(c=>c+1)},2e3):(o(!1),e.setFieldTouched("voucher",!0))};return a.jsx("div",{className:"page-content d-flex justify-content-center align-items-center px-2 mb-3",style:{fontFamily:"Poppins"},children:a.jsxs("div",{className:"d-flex flex-column w-100",style:{maxWidth:800},children:[a.jsx(g,{className:"justify-content-center mb-2",children:a.jsxs(r,{lg:"10",children:[a.jsx("h4",{style:{color:"#041662",fontWeight:500,fontSize:"28px",lineHeight:"52px"},children:"Permohonan Pernyataan Memperoleh Kewarganegaraan Republik Indonesia bagi Anak Angkat"}),a.jsx("hr",{})]})}),a.jsx(g,{className:"justify-content-center mb-2",children:a.jsx(r,{lg:"10",children:a.jsx("p",{style:{color:"#5D5D5D",fontSize:"14px",fontWeight:500,lineHeight:"26px"},children:"Anda akan memulai proses permohonan pernyataan memperoleh kewarganegaraan RI bagi anak angkat.Pastikan Anda telah menyiapkan dokumen dan informasi yang dibutuhkan sebelum melanjutkan."})})}),a.jsx(g,{className:"justify-content-center mb-2",children:a.jsxs(r,{lg:"10",children:[a.jsx("p",{style:{color:"#5D5D5D",fontSize:"14px",lineHeight:"26px",fontWeight:500},children:"Untuk melanjutkan, Anda perlu memasukkan kode voucher pendaftaran terlebih dahulu."}),a.jsx(N,{formik:e,type:"text",name:"voucher",placeholder:"Tulis Kode Voucher Anda Di Sini",className:"mt-2 form-field-input"})]})}),a.jsx(g,{className:"justify-content-center",children:a.jsxs(r,{lg:"10",children:[a.jsx("p",{style:{color:"#5D5D5D",fontSize:"14px",lineHeight:"26px",fontWeight:500},children:"Jika Anda belum memiliki kode voucher, silakan melakukan pembelian melalui layanan SIMPADHU pada tautan berikut:"}),a.jsx(me,{})]})}),a.jsx(g,{className:"justify-content-center",children:a.jsx(r,{lg:"10",children:a.jsx(L,{bgColor:"#041662",textColor:"#fff",hoverColor:"#041992",text:"Mulai Pendaftaran",rightIcon:a.jsx(fa,{}),onClick:m,loading:h})})})]})})},la={0:W({voucher:y().required("Voucher wajib diisi")}),1:W({nama_lengkap_pemohon:y().min(2,"Nama lengkap minimal 2 karakter").max(100,"Nama lengkap maksimal 100 karakter").matches(/^[A-Za-zÀ-ÿ' -]+$/,"Nama hanya boleh berisi huruf, apostrof (') dan tanda hubung (-)").required("Nama lengkap wajib diisi"),jenis_kelamin_pemohon:y().required("Jenis kelamin wajib diisi"),id_tempat_lahir_pemohon:y().required("Tempat lahir wajib diisi"),tgl_lahir_pemohon:X().max(new Date,"Tanggal lahir tidak boleh di masa depan").required("Tanggal lahir wajib diisi"),email_pemohon:y().email("Format email tidak valid").required("Email wajib diisi"),id_kwn_asal_pemohon:y().required("Kewarganegaraan asing anak wajib diisi"),tempat_tinggal_pemohon:y().required("Tempat tinggal wajib diisi"),id_negara_tinggal_pemohon:O("tempat_tinggal_pemohon","Luar Negeri","Negara Tinggal Wajib diisi!"),id_provinsi_tinggal_pemohon:O("tempat_tinggal_pemohon","Dalam Negeri","Provinsi tinggal wajib diisi!"),id_kab_kota_tinggal_pemohon:O("tempat_tinggal_pemohon","Dalam Negeri","Kab/Kota Tinggal wajib diisi!"),alamat_tinggal_pemohon:y().required("Alamat rumah wajib diisi"),no_dok_pengangkatan_anak:y().matches(/^[A-Za-z0-9\/\.\-]+$/,"Nomor Penetapan hanya boleh berisi huruf, angka, '/', '.', dan '-'").min(5,"Nomor Penetapan minimal 5 karakter").max(50,"Nomor Penetapan maksimal 50 karakter").required("Nomor Penetapan wajib diisi"),tgl_dok_pengangkatan_anak:X().required("Tanggal penetapan wajib diisi"),no_paspor_asing_pemohon:y().matches(/^[A-Za-z0-9\s\/-]+$/,"Nomor Paspor hanya boleh berisi huruf, angka, spasi, '/' dan '-'").required("Nomor Paspor wajib diisi"),id_wilayah_paspor_asing_pemohon:y().required("Wilayah terbit paspor wajib diisi"),tgl_exp_paspor_asing_pemohon:X().required("Tanggal kedaluwarsa paspor wajib diisi")}),2:W({nama_lengkap_ayah:y().min(2,"Nama lengkap minimal 2 karakter").max(100,"Nama lengkap maksimal 100 karakter").matches(/^[A-Za-zÀ-ÿ' -]+$/,"Nama hanya boleh berisi huruf, apostrof (') dan tanda hubung (-), tanpa karakter khusus lainnya").required("Nama lengkap wajib diisi"),nik_ayah:y().matches(/^[0-9]{16}$/,"NIK harus terdiri dari 16 digit angka").min(16,"NIK harus 16 digit").max(16,"NIK harus 16 digit").required("NIK wajib diisi"),email_ayah:y().email("Format email tidak valid").required("Email wajib diisi"),no_hp_ayah:y().matches(/^[0-9]+$/,"Nomor handphone harus angka").min(10,"Nomor handphone minimal 10 digit").max(15,"Nomor handphone maksimal 15 digit").required("Nomor handphone wajib diisi"),id_kwn_asal_ayah:y().required("Kewarganegaraan pasangan wajib diisi"),status_kawin_ayah:y().required("Status pernikahan wajib diisi"),alamat_tinggal_ayah:y().min(5,"Alamat rumah minimal 5 karakter").max(200,"Alamat rumah maksimal 200 karakter").required("Alamat rumah wajib diisi"),tempat_lahir_ayah:y().required("Tempat lahir wajib diisi dan sesuai identitas"),id_negara_lahir_ayah:O("tempat_lahir_ayah","Luar Negeri","Negara Tinggal Wajib diisi!"),id_provinsi_lahir_ayah:O("tempat_lahir_ayah","Dalam Negeri","Provinsi tinggal wajib diisi!"),id_kab_kota_lahir_ayah:O("tempat_lahir_ayah","Dalam Negeri","Kab/Kota Tinggal wajib diisi!"),tgl_lahir_ayah:X().max(new Date,"Tanggal lahir tidak boleh di masa depan").required("Tanggal lahir wajib diisi"),id_pekerjaan_ayah:y().required("Pekerjaan wajib diisi"),nama_lengkap_ibu:y().min(2,"Nama lengkap minimal 2 karakter").max(100,"Nama lengkap maksimal 100 karakter").matches(/^[A-Za-zÀ-ÿ' -]+$/,"Nama hanya boleh berisi huruf, apostrof (') dan tanda hubung (-), tanpa karakter khusus lainnya").required("Nama lengkap wajib diisi"),nik_ibu:y().matches(/^[0-9]{16}$/,"NIK harus terdiri dari 16 digit angka").min(16,"NIK harus 16 digit").max(16,"NIK harus 16 digit").required("NIK wajib diisi"),email_ibu:y().email("Format email tidak valid").required("Email wajib diisi"),no_hp_ibu:y().matches(/^[0-9]+$/,"Nomor handphone harus angka").min(10,"Nomor handphone minimal 10 digit").max(15,"Nomor handphone maksimal 15 digit").required("Nomor handphone wajib diisi"),id_kwn_asal_ibu:y().required("Kewarganegaraan pasangan wajib diisi"),status_kawin_ibu:y().required("Status pernikahan wajib diisi"),alamat_tinggal_ibu:y().min(5,"Alamat rumah minimal 5 karakter").max(200,"Alamat rumah maksimal 200 karakter").required("Alamat rumah wajib diisi"),tempat_lahir_ibu:y().required("Tempat lahir wajib diisi dan sesuai identitas"),id_negara_lahir_ibu:O("tempat_lahir_ibu","Luar Negeri","Negara Tinggal Wajib diisi!"),id_provinsi_lahir_ibu:O("tempat_lahir_ibu","Dalam Negeri","Provinsi tinggal wajib diisi!"),id_kab_kota_lahir_ibu:O("tempat_lahir_ibu","Dalam Negeri","Kab/Kota Tinggal wajib diisi!"),tgl_lahir_ibu:X().max(new Date,"Tanggal lahir tidak boleh di masa depan").required("Tanggal lahir wajib diisi"),id_pekerjaan_ibu:y().required("Pekerjaan wajib diisi")}),3:W({suratPermohonan:y().required("Rules wajib dicentang")}),4:W({kutipanAktaKelahiran:R,IzinKeimigrasian:R,skTmpTinggal:R,pasporAnak:R,penetapanKeadilan:R,srtPerwaNgrAsal:R,kutipanAktaKelaOrtu:R,pasporKtpOrtu:R,kutipanAktaPerkawinan:R,pasfoto:R})},ja={voucher:"12345678",nama_lengkap_pemohon:"",jenis_kelamin_pemohon:"",tempat_lahir_pemohon:"",tgl_lahir_pemohon:"",email_pemohon:"",id_kwn_asal_pemohon:"",tempat_tinggal_pemohon:"",id_negara_tinggal_pemohon:"",id_provinsi_tinggal_pemohon:"",id_kab_kota_tinggal_pemohon:"",alamat_tinggal_pemohon:"",no_dok_pengangkatan_anak:"",tgl_dok_pengangkatan_anak:"",no_paspor_asing_pemohon:"",id_wilayah_paspor_asing_pemohon:"",tgl_exp_paspor_asing_pemohon:"",nama_lengkap_ayah:"",nik_ayah:"",email_ayah:"",no_hp_ayah:"",id_kwn_asal_ayah:"",status_kawin_ayah:"",alamat_tinggal_ayah:"",tempat_lahir_ayah:"",id_provinsi_lahir_ayah:"",id_kab_kota_lahir_ayah:"",id_negara_lahir_ayah:"",tgl_lahir_ayah:"",id_pekerjaan_ayah:"",nama_lengkap_ibu:"",nik_ibu:"",email_ibu:"",no_hp_ibu:"",id_kwn_asal_ibu:"",status_kawin_ibu:"",alamat_tinggal_ibu:"",tempat_lahir_ibu:"",id_provinsi_lahir_ibu:"",id_kab_kota_lahir_ibu:"",id_negara_lahir_ibu:"",tgl_lahir_ibu:"",id_pekerjaan_ibu:"",suratPermohonan:"",kutipanAktaKelahiran:null,IzinKeimigrasian:null,skTmpTinggal:null,pasporAnak:null,penetapanKeadilan:null,srtPerwaNgrAsal:null,kutipanAktaKelaOrtu:null,pasporKtpOrtu:null,kutipanAktaPerkawinan:null,pasfoto:null},ea={getPermohonanDetail:"/kewarganegaraan/permohonan-anak-angkat",postPermohonan:"/kewarganegaraan/permohonan-anak-angkat",patchPermohonan:"/kewarganegaraan/permohonan-anak-angkat",uploadFile:"/kewarganegaraan/permohonan-anak-angkat/upload"},ue=e=>Fa(`${ea.getPermohonanDetail}/${e}`),ge=e=>Qa(ea.postPermohonan,e),_e=e=>wa(ea.patchPermohonan,e),xe=e=>ae(ea.uploadFile,e),ke=e=>wa(ea.patchPermohonan,e);function je(e,t,n=!0){const[h,o]=u.useState(!1),[m,c]=u.useState(null),[p,l]=u.useState(null),i=t===3||t===1||t===5;return u.useEffect(()=>{if(!n||!e||!i)return;(async()=>{o(!0),c(null);try{const d=await ue(e);l(d.data)}catch(d){c(d)}finally{o(!1)}})()},[e,n,t]),{data:p,loading:h,error:m}}const be=()=>{const[e,t]=u.useState(!1),[n,h]=u.useState(null),[o,m]=u.useState(null);return{postPermohonan:async p=>{var l;console.log("🚀 usePostPermohonan - Starting POST request"),console.log("Data to post:",p),t(!0),h(null),m(null);try{const i={...p,no_telp_pemohon:p.no_telp_pemohon??""},s=await ge(i);console.log("✅ POST API Response:",s),console.log("Response status:",s.status),console.log("Response data:",s.data);let d;return s.message==="Success"&&(d=s,ee("anakwnangkat",s.data.id_permohonan)),console.log("✅ Processed response:",d),m(d),d}catch(i){console.error("❌ POST Permohonan Error:",i);let s={message:"Network error",status:null,data:null};i.response?(console.error("API Error Response:",i.response),s={message:((l=i.response.data)==null?void 0:l.message)||`HTTP ${i.response.status}`,status:i.response.status,data:i.response.data}):i.request?(console.error("Network Error:",i.request),s={message:"Network connection failed",status:null,data:null}):(console.error("Unexpected Error:",i.message),s={message:i.message,status:null,data:null}),h(s);const d=new Error(s.message);throw d.response=i.response,d.request=i.request,d.status=s.status,d}finally{t(!1),console.log("🏁 usePostPermohonan - Request completed")}},loading:e,error:n,response:o}};function fe(){const[e,t]=u.useState(!1),[n,h]=u.useState(null),[o,m]=u.useState(null),c=ma("anakwnangkat");return{patchPermohonan:async l=>{console.log("Data Patch ==>>",l),t(!0),h(null);try{const i=le();console.log({id_voucher:i,id_permohonan:c,...l});const s=await _e({id_voucher:i,id_permohonan:c,...l,no_telp_pemohon:l.no_telp_pemohon??""});return console.log("Patch response",s),m(s),s}catch(i){throw h(i),i}finally{t(!1)}},loading:e,error:n,response:o}}const $=[["voucher"],["nama_lengkap_pemohon","jenis_kelamin_pemohon","id_tempat_lahir_pemohon","tgl_lahir_pemohon","email_pemohon","id_kwn_asal_pemohon","tempat_tinggal_pemohon","id_negara_tinggal_pemohon","id_provinsi_tinggal_pemohon","id_kab_kota_tinggal_pemohon","alamat_tinggal_pemohon","no_dok_pengangkatan_anak","tgl_dok_pengangkatan_anak","no_paspor_asing_pemohon","id_wilayah_paspor_asing_pemohon","tgl_exp_paspor_asing_pemohon"],["nama_lengkap_ayah","nik_ayah","email_ayah","no_hp_ayah","id_kwn_asal_ayah","status_kawin_ayah","alamat_tinggal_ayah","tempat_lahir_ayah","id_provinsi_lahir_ayah","id_kab_kota_lahir_ayah","id_negara_lahir_ayah","tgl_lahir_ayah","id_pekerjaan_ayah","nama_lengkap_ibu","nik_ibu","email_ibu","no_hp_ibu","id_kwn_asal_ibu","status_kawin_ibu","alamat_tinggal_ibu","tempat_lahir_ibu","id_provinsi_lahir_ibu","id_kab_kota_lahir_ibu","id_negara_lahir_ibu","tgl_lahir_ibu","id_pekerjaan_ibu"],["suratPermohonan"],["kutipanAktaKelahiran","IzinKeimigrasian","skTmpTinggal","pasporAnak","penetapanKeadilan","srtPerwaNgrAsal","kutipanAktaKelaOrtu","pasporKtpOrtu","kutipanAktaPerkawinan","pasfoto"]],ye=()=>{const e=u.useCallback(async(n,h)=>{const o=la[n],m=$[n],c=ha(h.values,m);if(console.log("NEXT DATA",c),n===4&&(console.log("=== DEBUG STEP 4 VALIDATION ==="),console.log("Current step values:",c),console.log("All formik values:",h.values),m.forEach(l=>{const i=h.values[l];console.log(`${l}:`,{value:i,type:typeof i,isFile:i instanceof File,isObject:i&&typeof i=="object",hasId:i&&i.id,hasUrl:i&&i.url,hasFilePath:i&&i.file_path})})),!o)return{isValid:!0,errors:{}};const p={...h.touched};m.forEach(l=>{p[l]=!0}),h.setTouched(p);try{const l=m.reduce((s,d)=>(s[d]=h.values[d],s),{});await o.validate(l,{abortEarly:!1});const i={...h.errors};return m.forEach(s=>{delete i[s]}),h.setErrors(i),{isValid:!0,errors:{},step:n,data:c}}catch(l){console.log("Validation error for step",n,":",l);const i={};return l.inner&&l.inner.forEach(s=>{i[s.path]=s.message}),h.setErrors({...h.errors,...i}),{isValid:!1,errors:i,data:{}}}},[]),t=u.useCallback(async n=>{const h={};let o=!1;for(let m=0;m<$.length;m++){const c=la[m],p=$[m];if(c)try{const l=p.reduce((i,s)=>(i[s]=n.values[s],i),{});await c.validate(l,{abortEarly:!1})}catch(l){o=!0;const i={};l.inner&&l.inner.forEach(s=>{i[s.path]=s.message}),h[m]=i}}return{hasErrors:o,allStepErrors:h}},[]);return{validateCurrentStep:e,validateAllSteps:t}},we=(e,t,n,h)=>{const o=new pa,m=u.useCallback(async l=>{if(await o.customConfirmation("Apakah anda yakin akan menyimpan data ke draft?")){const s=h(l);console.log("Draft values for current step (processed):",s),console.log(e);try{let d;return e?(d=await n(s),d.message==="Success"&&sa("Berhasil memperbarui draft")):(d=await t(s),d.message==="Success"&&sa("Berhasil menyimpan ke draft")),d}catch(d){throw console.error("Error saving draft:",d),o.customWarningMsg("Gagal menyimpan draft"),d}}return null},[e,t,n,h,o]),c=u.useCallback((l,i)=>{if(!l||!l.fields)return W({});const s={};return Object.keys(i).forEach(d=>{const k=i[d];k!==""&&k!==null&&k!==void 0&&l.fields[d]&&(s[d]=l.fields[d])}),W(s)},[]),p=u.useCallback(async(l,i,s)=>{const d=$[l],k=la[l];let S=!1;const f=ha(i.values,d),x=d.reduce((j,w)=>(j[w]=i.values[w],j),{});if(Object.keys(ha(x,d)).length===0){o.customWarningMsg("Tidak ada data yang perlu disimpan pada langkah ini. Harap isi form jika ingin menyimpan ke draft.");return}try{if(k){const P=c(k,f);console.log("SELECTIVE SCHEMA",P),await P.validate(f,{abortEarly:!1})}const j={...i.errors};d.forEach(P=>{delete j[P]}),i.setErrors(j),s(P=>{const T={...P};return T[l]&&(d.forEach(b=>delete T[l][b]),Object.keys(T[l]).length===0&&delete T[l]),T}),console.log("EXECUTE TRY SAVEDRAFT");const w=await m(f);w?console.log("✅ Draft saved successfully:",w):console.log("ℹ️ User cancelled draft save")}catch(j){const w={};j.inner&&j.inner.forEach(P=>{d.includes(P.path)&&x[P.path]!==void 0&&x[P.path]!==null&&x[P.path]!==""&&(w[P.path]=P.message,S=!0)}),S&&(i.setErrors({...i.errors,...w}),s(P=>({...P,[l]:w})),o.customWarningMsg("Beberapa input yang diisi memiliki format yang tidak valid. Mohon periksa kembali."))}},[m,o]);return{saveDraft:m,handleDraft:p}},Pe=(e,t,n,h)=>{const o=new pa,m=u.useCallback(async(p,l,i,s,d,k,S)=>{const f=await k(p,S),x=$[p];if(!f.isValid){console.log("validation current step",f),o.customWarningMsg("harap melengkapi formulir sebelum ke langkah selanjutnya.");return}i(b=>{const A={...b};return delete A[p],A}),s(b=>new Set([...b,p]));const j=p===3,w=p===4,P=p===5;if(j){console.log("📝 Step 3 (Surat Permohonan): Skipping API call, moving to next step"),l(b=>b+1),d(b=>{const A=new Set(b);return A.delete(p),A});return}if(w){console.log("📎 Step 4 (Upload): step, preparing for submission"),l(b=>b+1),d(b=>{const A=new Set(b);return A.delete(p),A});return}if(P){console.log("📎 Step 5 (pratinjau): Final step, preparing for submission"),l(b=>b+1),d(b=>{const A=new Set(b);return A.delete(p),A});return}const T=x.reduce((b,A)=>(b[A]=S.values[A],b),{});console.log("dataToSave",T);try{const b=h(T);let A;e?(console.log("Process data to API PATCH ===>>>",b),A=await n(b,e)):(console.log("Process data to API POST ===>>>",b),A=await t(b)),l(D=>D+1),d(D=>{const K=new Set(D);return K.delete(p),K})}catch(b){console.error("API Error:",b),o.customWarningMsg("Gagal menyimpan data. Silakan coba lagi.")}},[e,t,n,h,o]),c=u.useCallback(async(p,l,i)=>{p===1?await o.customConfirmation("Keluar pada formulir akan menghapus semua riwayat pengisian, harap simpan di draft jika akan melanjutkan nanti")&&i():l(s=>s-1)},[o]);return{handleNext:m,handleBack:c}},Se=(e,t,n)=>{const h=new pa,o=Ia(),[m,c]=u.useState(!1);return{handleSubmit:u.useCallback(async(l,i,s,d,k)=>{var S;if(console.log("=== SUBMIT HANDLER ==="),console.log("Active Step:",l),console.log("Current Formik Values:",i.values),l!==5){console.log("❌ Not on final step, cannot submit");return}try{console.log("🔍 Validating all steps before submission...");const{hasErrors:f,allStepErrors:x}=await s(i);if(console.log("Validation result:",{hasErrors:f,allStepErrors:x}),f){console.log("❌ Form has validation errors:",x),d(x);const b={};Object.values(x).forEach(D=>{Object.assign(b,D)}),i.setErrors(b);const A=$.flat().reduce((D,K)=>(D[K]=!0,D),{});i.setTouched(A),Q("Harap melengkapi formulir sebelum melakukan submit atau lakukan refresh");return}if(console.log("✅ All validation passed, proceeding with submission..."),!await h.confirmationCreate()){console.log("ℹ️ User cancelled submission");return}k(!0),console.log("🚀 Submitting form...");const w=n(i.values);console.log("Payload di proses",w);const P={id_permohonan:e,status_permohonan:1,status_aktivitas:2};console.log("Final submission payload:",P);const T=await ke(P);if(console.log("✅ Submission response:",T),T&&T.message==="Success")sa("Berhasil Membuat Permohonan! Mengalihkan..."),setTimeout(()=>{ne("anakwnangkat"),c(!0)},3e3);else throw new Error((T==null?void 0:T.message)||"Submission failed")}catch(f){if(console.error("❌ Submission error:",f),f.response){const x=((S=f.response.data)==null?void 0:S.message)||"Terjadi kesalahan pada server";ra(x)}else f.request?ra("Gagal terhubung ke server. Periksa koneksi internet."):ra(f.message||"Terjadi kesalahan tidak terduga")}finally{k(!1),console.log("=== END SUBMIT HANDLER ===")}},[e,t,n,h,o]),successSubmit:m}},oa="Dalam Negeri",da="Luar Negeri",Ae=(e,t)=>{const[n,h]=u.useState(t?1:0),[o,m]=u.useState(new Set),[c,p]=u.useState({}),[l,i]=u.useState(new Set),[s,d]=u.useState(!1),{loading:k,error:S,data:f}=je(t,n),{postPermohonan:x,response:j,loading:w,error:P}=be(),{patchPermohonan:T,response:b,loading:A,error:D}=fe(),K=t,G=u.useMemo(()=>f&&f.id_permohonan===K?{...ja,...f}:ja,[f,K]),U=u.useCallback(Z=>{const E={...Z};return console.log("PROCESSED PAYLOAD",E),E.tempat_tinggal_pemohon===oa?delete E.id_negara_tinggal_pemohon:E.tempat_tinggal_pemohon===da&&(delete E.id_provinsi_tinggal_pemohon,delete E.id_kab_kota_tinggal_pemohon),E.tempat_lahir_ayah===oa?delete E.id_negara_lahir_ayah:E.tempat_lahir_ayah===da&&(delete E.id_provinsi_lahir_ayah,delete E.id_kab_kota_lahir_ayah),E.tempat_lahir_ibu===oa?delete E.id_negara_lahir_ibu:E.tempat_lahir_ibu===da&&(delete E.id_provinsi_lahir_ibu,delete E.id_kab_kota_lahir_ibu),E},[]),{validateCurrentStep:Y,validateAllSteps:na}=ye(),{handleDraft:ta}=we(K,x,T,U),{handleNext:I,handleBack:V}=Pe(K,x,T,U),{handleSubmit:_a,successSubmit:Pa}=Se(K,T,U),z=ba({enableReinitialize:!0,validateOnChange:!0,validateOnBlur:!0,initialValues:G,validationSchema:la[n],onSubmit:async Z=>{console.log("Formik onSubmit called with:",Z)}});u.useEffect(()=>{ia()},[e]);const ia=u.useCallback(()=>{h(t?1:0),z.resetForm(),p({}),i(new Set),m(new Set)},[z,t]),Sa=u.useCallback(Z=>o.has(Z),[o]),Aa=u.useCallback(()=>I(n,h,p,i,m,Y,z),[n,I,Y,z]),va=u.useCallback(()=>V(n,h,ia),[n,V,ia]),Na=u.useCallback(()=>ta(n,z,p),[n,z,ta]),Ta=u.useCallback(()=>_a(n,z,na,p,d),[n,z,_a,na]);return{activeStep:n,setActiveStep:h,skipped:o,stepErrors:c,completedSteps:l,isSubmitting:s,formik:z,isStepSkipped:Sa,handleNext:Aa,handleBack:va,handleDraft:Na,handleSubmit:Ta,resetForm:ia,dataPermohonan:f,loadingGet:k,postLoading:w,patchLoading:A,successSubmit:Pa,processPayloadBased:U}},ve=({steps:e,activeStep:t,isStepSkipped:n,isStepValid:h,isStepHasError:o})=>{const m=(c,p,l)=>{let i="#fff",s="#041662",d="#E7E7E7";return(p||l)&&(i="#041662",s="#fff",d="#041662"),a.jsx("div",{style:{width:24,height:24,borderRadius:"50%",border:`1px solid ${d}`,backgroundColor:i,display:"flex",alignItems:"center",justifyContent:"center",color:s,transition:"all 0.3s ease"},children:c+1})};return a.jsx(Ca,{activeStep:t,alternativeLabel:!0,connector:a.jsx(oe,{}),children:e.map((c,p)=>{const l={};return n(p)?l.completed=!1:p<t&&(l.completed=!0),a.jsx(La,{...l,children:a.jsx(qa,{StepIconComponent:({active:i,completed:s})=>m(p,i,s),children:a.jsx("span",{style:{fontFamily:"Poppins",fontWeight:400,fontSize:"12px",lineHeight:"18px",color:"#888888"},children:c.label})})},c.id)})})},Ne=ve,Te=({handleSubmit:e,handleNext:t,handleBack:n,handleDraft:h,activeStep:o,stepsResult:m,isSubmitting:c=!1,postLoading:p=!1,patchLoading:l=!1})=>{const i=o===5,s=o===0,d=o===3,k=o===4,S=o===5;return a.jsxs(F,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:0,pt:2,px:2},children:[o>1&&a.jsx(L,{text:"Kembali",bgColor:"transparent",border:"1px solid #E7E7E7",textColor:"#041662",disabled:s,onClick:n}),!s&&!d&&!k&&!S&&a.jsx(L,{text:"Draft",bgColor:"#f97316",border:"1px solid #E7E7E7",textColor:"#fff",hoverColor:"#ea580c",onClick:h,rightIcon:a.jsx(de,{fontSize:"14px"}),loading:l||p}),!i&&a.jsx(L,{onClick:t,loading:p||l,text:"Selanjutnya",bgColor:"#041662",hoverColor:"#1e40af"}),i&&a.jsx(L,{onClick:e,loading:c,text:"Submit Permohonan",bgColor:"#041662",hoverColor:"#1e40af"})]})},Ee=Te,De=({formik:e})=>{const{negara:t}=aa(n=>n.master);return a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Informasi Anak"}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"6",children:a.jsx(N,{formik:e,name:"nama_lengkap_pemohon",placeholder:"Tulis nama lengkap",title:"Nama Lengkap",required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"6",children:a.jsx(v,{formik:e,name:"jenis_kelamin_pemohon",placeholder:"Jenis Kelamin",options:he,title:"Jenis Kelamin",required:!0})})]}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"6",children:a.jsx(v,{formik:e,name:"id_tempat_lahir_pemohon",placeholder:"Tulis tempat lahir",title:"Tempat Lahir",options:t.data,required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"6",children:a.jsx(N,{formik:e,name:"tgl_lahir_pemohon",placeholder:"Masukkan tanggal lahir",title:"Tanggal Lahir",required:!0,type:"date"})})]}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"6",children:a.jsx(N,{formik:e,name:"email_pemohon",placeholder:"Tulis email aktif",title:"Email",required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"6",children:a.jsx(v,{formik:e,name:"id_kwn_asal_pemohon",placeholder:"kewarganegaraan",options:t.data,title:"Kewarganegaraan",required:!0})})]})]})},Ke=({formik:e})=>{const{values:t,setFieldValue:n}=e,{negara:h,provinsi:o}=aa(x=>x.master),[m,c]=u.useState(!1),[p,l]=u.useState([]),i=t.tempat_tinggal_pemohon!=="",s=t.tempat_tinggal_pemohon==="Dalam Negeri",d=t.tempat_tinggal_pemohon==="Luar Negeri",k=t.id_provinsi_tinggal_pemohon!=="",S=u.useRef(""),f=async x=>{c(!0);try{const j=await ca(x),w=ua(j.data);l(w)}catch(j){console.error(j),Q("Terjadi kesalahan",j.message)}finally{c(!1)}};return u.useEffect(()=>{const x=t.tempat_tinggal_pemohon;S.current!==x&&(x==="Dalam Negeri"?n("id_negara_tinggal_pemohon",""):x==="Luar Negeri"&&(n("id_provinsi_tinggal_pemohon",""),n("id_kab_kota_tinggal_pemohon","")),S.current=x)},[t.tempat_tinggal_pemohon,n]),u.useEffect(()=>{t.id_provinsi_tinggal_pemohon&&f(t.id_provinsi_tinggal_pemohon)},[t.id_provinsi_tinggal_pemohon,n]),a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Alamat Tempat Tinggal Anak"}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"6",children:a.jsx(v,{formik:e,name:"tempat_tinggal_pemohon",placeholder:"tempat tinggal",options:ga,title:"Tempat Tinggal",required:!0})}),d&&a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"6",children:a.jsx(v,{formik:e,name:"id_negara_tinggal_pemohon",placeholder:"negara tinggal",options:h.data,title:"Negara Tinggal",disabled:!i||s,required:!0})})]}),s&&a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"6",children:a.jsx(v,{formik:e,name:"id_provinsi_tinggal_pemohon",placeholder:"provinsi",options:o.data,title:"Provinsi",disabled:!i||!s,required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"6",children:a.jsx(v,{formik:e,name:"id_kab_kota_tinggal_pemohon",placeholder:"kabupaten/kota",options:p,title:"Kabupaten/Kota",disabled:!k,required:!0})})]}),a.jsx(g,{children:a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"12",children:a.jsx(N,{formik:e,name:"alamat_tinggal_pemohon",placeholder:"Tulis alamat lengkap domisili saat ini",title:"Alamat Tempat Tinggal",type:"textarea",required:!0})})})]})},Fe=({formik:e})=>a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Informasi Pengangkatan Anak"}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"8",children:a.jsx(N,{formik:e,name:"no_dok_pengangkatan_anak",placeholder:"Tulis nomor penetapan",title:"Nomor penetapan pengadilan negeri tentang pengangkatan anak",required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"8",xl:"8",children:a.jsx(N,{formik:e,name:"tgl_dok_pengangkatan_anak",placeholder:"Masukkan tanggal penetapan",title:"Tanggal Penetapan Pengadilan Negeri",type:"date",required:!0})})]})]}),Ie=({formik:e})=>{const{negara:t}=aa(n=>n.master);return a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Informasi Paspor Asing"}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"6",children:a.jsx(N,{formik:e,name:"no_paspor_asing_pemohon",placeholder:"Tulis nomor paspor",title:"Nomor Paspor Asing",required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"12",xl:"6",children:a.jsx(v,{formik:e,name:"id_wilayah_paspor_asing_pemohon",placeholder:"lokasi terbit paspor asing",title:"Wilayah Terbist Paspor Asing",options:t.data,required:!0})})]}),a.jsx(g,{children:a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"8",xl:"6",children:a.jsx(N,{formik:e,name:"tgl_exp_paspor_asing_pemohon",placeholder:"Masukkan tanggal kedaluwarsa paspor",title:"Tanggal Kedaluwarsa Paspor Asing",type:"date",required:!0})})})]})},Ce=({formik:e})=>a.jsxs(F,{className:"mt-3 mb-3",sx:{border:"1px solid #E7E7E7",borderRadius:5,padding:"24px"},children:[a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"6",md:"6",lg:"6",xl:"6",children:a.jsx(De,{formik:e})}),a.jsx(r,{xs:"12",sm:"6",md:"6",lg:"6",xl:"6",children:a.jsx(Ke,{formik:e})})]}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"6",md:"6",lg:"6",xl:"6",children:a.jsx(Fe,{formik:e})}),a.jsx(r,{xs:"12",sm:"6",md:"6",lg:"6",xl:"6",children:a.jsx(Ie,{formik:e})})]})]}),Le=({formik:e})=>{const{values:t,setFieldValue:n}=e,[h,o]=u.useState(!1),[m,c]=u.useState([]),{statusKawin:p,negara:l,provinsi:i,pekerjaan:s}=aa(j=>j.master);t.tempat_lahir_ayah;const d=t.tempat_lahir_ayah==="Dalam Negeri",k=t.tempat_lahir_ayah==="Luar Negeri",S=t.id_provinsi_tinggal_pemohon!=="",f=u.useRef(""),x=async j=>{o(!0);try{const w=await ca(j),P=ua(w.data);c(P)}catch(w){console.error(w),warningMsg("Terjadi kesalahan",w.message)}finally{o(!1)}};return u.useEffect(()=>{const j=t.tempat_lahir_ayah;f.current!==j&&(j==="Dalam Negeri"?n("id_negara_tinggal_pemohon",""):j==="Luar Negeri"&&(n("id_provinsi_tinggal_pemohon",""),n("id_kab_kota_tinggal_pemohon","")),f.current=j)},[t.tempat_lahir_ayah,n]),u.useEffect(()=>{t.id_provinsi_tinggal_pemohon&&x(t.id_provinsi_tinggal_pemohon)},[t.id_provinsi_tinggal_pemohon,n]),a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Informasi Data Ayah"}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:e,name:"nama_lengkap_ayah",placeholder:"Tulis nama lengkap",title:"Nama Lengkap",required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:e,name:"nik_ayah",placeholder:"Tulis nomor NIK sesuai identitas",title:"NIK",required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:e,name:"email_ayah",placeholder:"Tulis alamat email aktif",title:"Email",required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:e,name:"no_hp_ayah",placeholder:"Tulis nomor handphone aktif",title:"No HP (Diikuti Kode Negara)",leftIcon:a.jsx(ya,{}),type:"tel",required:!0})})]}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:e,name:"tgl_lahir_ayah",placeholder:"Pilih tanggal lahir",title:"Tanggal Lahir",type:"date",required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(v,{formik:e,name:"tempat_lahir_ayah",placeholder:"tempat lahir",title:"Tempat Lahir",options:ga,required:!0})}),d&&a.jsxs(a.Fragment,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(v,{formik:e,name:"id_provinsi_lahir_ayah",placeholder:" provinsi kelahiran",title:"Provinsi Lahir",options:i.data,required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(v,{formik:e,name:"id_kab_kota_lahir_ayah",placeholder:" kab/kota kelahiran",title:"Kab/Kota Lahir",options:m,isDisabled:!S,required:!0})})]}),k&&a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"6",children:a.jsx(v,{formik:e,name:"id_negara_lahir_ayah",placeholder:"Tulis negara kelahiran",title:"Negara Lahir",options:l.data,required:!0})})]}),a.jsx(g,{children:a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"6",children:a.jsx(N,{formik:e,name:"alamat_tinggal_ayah",placeholder:"Tulis alamat lengkap domisili saat ini",title:"Alamat Tinggal",type:"textarea",required:!0})})}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"4",children:a.jsx(v,{formik:e,name:"id_pekerjaan_ayah",placeholder:" pekerjaan atau profesi saat ini",title:"Pekerjaan/Profesi",options:s.data,required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"4",children:a.jsx(v,{formik:e,name:"status_kawin_ayah",placeholder:"status perkawinan",title:"Status Perkawinan",options:p.data,required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"4",children:a.jsx(v,{formik:e,name:"id_kwn_asal_ayah",placeholder:" kewarganegaraan asal",title:"Kewarganegaraan Asal",options:l.data,required:!0})})]})]})},qe=({formik:e})=>{const{values:t,setFieldValue:n}=e,[h,o]=u.useState(!1),[m,c]=u.useState([]),{statusKawin:p,negara:l,provinsi:i,pekerjaan:s}=aa(x=>x.master);t.tempat_lahir_ibu;const d=t.tempat_lahir_ibu==="Dalam Negeri",k=t.tempat_lahir_ibu==="Luar Negeri";t.id_provinsi_lahir_ibu;const S=u.useRef(""),f=async x=>{o(!0);try{const j=await ca(x),w=ua(j.data);c(w)}catch(j){console.error(j),warningMsg("Terjadi kesalahan",j.message)}finally{o(!1)}};return u.useEffect(()=>{const x=t.tempat_lahir_ibu;S.current!==x&&(x==="Dalam Negeri"?n("id_negara_lahir_ibu",""):x==="Luar Negeri"&&(n("id_provinsi_lahir_ibu",""),n("id_kab_kota_lahir_ibu","")),S.current=x)},[t.tempat_lahir_ibu,n]),u.useEffect(()=>{t.id_provinsi_lahir_ibu&&f(t.id_provinsi_lahir_ibu)},[t.id_provinsi_lahir_ibu,n]),a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Informasi Data Ibu"}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:e,name:"nama_lengkap_ibu",placeholder:"Tulis nama lengkap",title:"Nama Lengkap",required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:e,name:"nik_ibu",placeholder:"Tulis nomor NIK sesuai identitas",title:"NIK",required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:e,name:"email_ibu",placeholder:"Tulis alamat email aktif",title:"Email",required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:e,name:"no_hp_ibu",placeholder:"Tulis nomor handphone aktif",title:"No HP (Diikuti Kode Negara)",leftIcon:a.jsx(ya,{}),type:"tel",required:!0})})]}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(v,{formik:e,name:"id_kwn_asal_ibu",placeholder:"kewarganegaraan",title:"Kewarganegaraan Asal",options:l.data,required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(v,{formik:e,name:"status_kawin_ibu",placeholder:"status perkawinan",title:"Status Perkawinan",options:p.data,required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"6",children:a.jsx(N,{formik:e,name:"alamat_tinggal_ibu",placeholder:"Tulis alamat lengkap domisili saat ini",title:"Alamat Tinggal",type:"textarea",required:!0})})]}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:e,name:"tgl_lahir_ibu",placeholder:"Pilih tanggal lahir",title:"Tanggal Lahir",type:"date",required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(v,{formik:e,name:"tempat_lahir_ibu",placeholder:"tempat lahir",title:"Tempat Lahir",options:ga,required:!0})}),d&&a.jsxs(a.Fragment,{children:[a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(v,{formik:e,name:"id_provinsi_lahir_ibu",placeholder:" provinsi kelahiran",title:"Provinsi Lahir",options:i.data,required:!0})}),a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(v,{formik:e,name:"id_kab_kota_lahir_ibu",placeholder:" kab/kota kelahiran",title:"Kab/Kota Lahir",options:m,required:!0})})]}),k&&a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(v,{formik:e,name:"id_negara_lahir_ibu",placeholder:" negara kelahiran",title:"Negara Lahir",options:l.data,required:!0})})]}),a.jsx(g,{children:a.jsx(r,{xs:"12",sm:"12",md:"12",lg:"6",xl:"6",children:a.jsx(v,{formik:e,name:"id_pekerjaan_ibu",placeholder:" pekerjaan atau profesi saat ini",title:"Pekerjaan/Profesi",options:s.data,required:!0})})})]})},Re=({formik:e})=>a.jsxs(F,{className:"mt-3 mb-3",sx:{border:"1px solid #E7E7E7",borderRadius:5,padding:"24px"},children:[a.jsx(Le,{formik:e}),a.jsx(Ra,{}),a.jsx(qe,{formik:e})]});function Be({formik:e}){const{values:t}=e,n=u.useRef(null),h=async()=>{if(n.current){const o=await Ua(n.current,{scale:2}),m=o.toDataURL("image/png"),c=new za("p","mm","a4"),p=c.internal.pageSize.getWidth(),l=c.internal.pageSize.getHeight(),i=p,s=o.height*p/o.width;let d=s,k=0;for(c.addImage(m,"PNG",0,k,i,s),d-=l;d>0;)k=d-s,c.addPage(),c.addImage(m,"PNG",0,k,i,s),d-=l;c.save("SuratPermohonan.pdf")}};return a.jsx("div",{className:"mt-5 mb-3 px-2",children:a.jsx("div",{style:{border:"1px solid #E7E7E7",borderRadius:20,padding:16},children:a.jsx("div",{className:"row",children:a.jsxs("div",{className:"col",children:[a.jsx("div",{style:{border:"1px solid #e0e0e0",borderRadius:8,marginBottom:24,maxWidth:890,margin:"0 auto"},children:a.jsxs("div",{ref:n,style:{padding:50,fontFamily:"Times New Roman",fontSize:12,lineHeight:1.6},children:[a.jsx("div",{style:{textAlign:"center",fontSize:16,fontWeight:600,letterSpacing:.5,textTransform:"uppercase",marginBottom:30},children:"FORMULIR PERNYATAAN PERMOHONAN PENYAMPAIAN PERNYATAAN MEMILIH KEWARGANEGARAAN REPUBLIK INDONESIA BAGI ANAK BERKEWARGANEGARAAN GANDA"}),a.jsx("div",{style:{marginTop:20},children:a.jsx("table",{style:{fontSize:12,width:"100%"},children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{style:{width:"15%"},children:"Lampiran"}),a.jsx("td",{style:{width:"5%"},children:":"}),a.jsx("td",{children:a.jsx("div",{style:{minWidth:200,height:22},children:"1 (satu) Berkas"})})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{width:"15%"},children:"Perihal"}),a.jsx("td",{style:{width:"5%"},children:":"}),a.jsx("td",{children:a.jsx("div",{style:{minWidth:200,height:22},children:"Pernyataan Permohonan Penyampaian Pernyataan Memilih Kewarganegaraan Republik Indonesia Bagi Anak Berkewarganegaraan Ganda"})})]})]})})}),a.jsxs("div",{style:{fontSize:12,marginTop:30,lineHeight:1.6},children:[a.jsx("div",{style:{marginBottom:20},children:"Merujuk pada Pasal 6 Undang-Undang Nomor 12 Tahun 2006 tentang Kewarganegaraan Republik Indonesia Juncto Pasal 49 Peraturan Pemerintah Nomor 2 Tahun 2007 tentang Tata Cara Memperoleh, Kehilangan, Pembatalan, dan Memperoleh kembali Kewarganegaraan Republik Indonesia, bersama ini dengan hormat saya :"}),a.jsx("table",{style:{width:"100%",marginTop:20,marginBottom:30},children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{style:{width:"25%",verticalAlign:"top"},children:"Nama"}),a.jsx("td",{style:{width:"3%"},children:":"}),a.jsx("td",{children:t.nama_lengkap_pemohon})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Jenis Kelamin"}),a.jsx("td",{children:":"}),a.jsx("td",{children:t.jenis_kelamin_pemohon})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Tempat/Tanggal Lahir"}),a.jsx("td",{children:":"}),a.jsxs("td",{children:[t.tempat_lahir_pemohon_text,","," ",M(t.tgl_lahir_pemohon)]})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Kewarganegaraan"}),a.jsx("td",{children:":"}),a.jsx("td",{children:t.kwn_asal_pemohon_text})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Status Perkawinan"}),a.jsx("td",{children:":"}),a.jsx("td",{children:"BELUM KAWIN"})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Alamat Tempat Tinggal"}),a.jsx("td",{children:":"}),a.jsxs("td",{children:[a.jsx("div",{children:t.alamat_tinggal_pemohon}),a.jsxs("div",{style:{marginLeft:20,marginTop:10},children:[a.jsx("div",{children:"1. Paspor Asing :"}),a.jsxs("div",{style:{marginLeft:20},children:[a.jsxs("div",{children:["- nomor : ",t.no_paspor_asing_pemohon]}),a.jsxs("div",{children:["- diterbitkan di :"," ",t.wilayah_paspor_asing_pemohon_text]}),a.jsxs("div",{children:["- berlaku sampai dengan :"," ",M(t.tgl_exp_paspor_asing_pemohon)]})]})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Nomor penetapan pengadilan negeri tentang pengangkatan anak"}),a.jsx("td",{children:":"}),a.jsx("td",{children:a.jsxs("div",{children:["Nomor ",t.no_dok_pengangkatan_anak," diterbitkan tanggal"," ",M(t.tgl_dok_pengangkatan_anak)]})})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Orang Tua"}),a.jsx("td",{children:":"}),a.jsxs("td",{children:[a.jsx("div",{children:"1. Ayah :"}),a.jsxs("div",{style:{marginLeft:20},children:[a.jsxs("div",{children:["- nama : ",t.nama_lengkap_ayah]}),a.jsxs("div",{children:["- kewarganegaraan : ",t.kwn_asal_ayah_text]})]}),a.jsx("div",{children:"2. Ibu :"}),a.jsxs("div",{style:{marginLeft:20},children:[a.jsxs("div",{children:["- nama : ",t.nama_lengkap_ibu]}),a.jsxs("div",{children:["- kewarganegaraan : ",t.kwn_asal_ibu_text]})]})]})]})]})}),a.jsx("div",{style:{marginBottom:20},children:"Dengan ini menyampaikan pernyataan untuk Permohonan Penyampaian Pernyataan Memilih Kewarganegaraan Republik Indonesia Bagi Anak Berkewarganegaraan Ganda."}),a.jsx("div",{style:{marginBottom:20},children:"Saya menyadari sepenuhnya konsekuensi akibat hukum dengan penyampaian Pernyataan Permohonan Penyampaian Pernyataan Memilih Kewarganegaraan Republik Indonesia Bagi Anak Berkewarganegaraan Ganda, dan akan tunduk pada ketentuan peraturan perundang-undangan."}),a.jsx("div",{style:{marginBottom:30},children:"Demikian penyampaian Permohonan Penyampaian Pernyataan Memilih Kewarganegaraan Republik Indonesia Bagi Anak Berkewarganegaraan Ganda ini disampaikan, atas perhatiannya diucapkan terima kasih."}),a.jsx("div",{style:{marginTop:50,display:"flex",justifyContent:"flex-end"},children:a.jsxs("div",{children:[a.jsx("div",{style:{textAlign:"center",marginBottom:10},children:"Yang menyampaikan pernyataan,"}),a.jsx("div",{style:{height:60}}),a.jsx("div",{style:{textAlign:"center",fontSize:12,fontWeight:"bold"},children:t.nama_lengkap_pemohon})]})})]})]})}),a.jsx("div",{style:{border:"none",marginBottom:24,maxWidth:890,margin:"0 auto"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 32px",marginBottom:"32px",marginTop:"32px"},children:[a.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:a.jsx(Ba,{fontSize:"0.95rem",label:"Pastikan data yang anda isi pada formulir sudah benar dan sesuai.",value:"1",fieldName:"suratPermohonan",formik:e})}),a.jsx(L,{text:"Download",leftIcon:a.jsx(Ma,{}),textColor:"#041662",bgColor:"transparent",border:"1px solid #E7E7E7",onClick:h})]})})]})})})})}const C={kutipanAktaKelahiran:1,IzinKeimigrasian:2,skTmpTinggal:3,pasporAnak:4,penetapanKeadilan:5,srtPerwaNgrAsal:6,kutipanAktaKelaOrtu:7,pasporKtpOrtu:8,kutipanAktaPerkawinan:9,pasfoto:10},Me=Object.fromEntries(Object.entries(C).map(([e,t])=>[t,e])),Ue=({formik:e})=>{const t=ma("anakwnangkat"),n=e.values.files||[];console.log("FILES ===>",e.values.files),console.log("=== START SYNC FILES ==="),u.useEffect(()=>{if(!Array.isArray(n)||n.length===0){console.log("📭 files is not ready or empty:",n);return}n.forEach(m=>{if(!m||typeof m.file_type>"u"){console.warn("⚠️ Invalid file object:",m);return}const c=Me[m.file_type];if(console.log("SYNC FIELDNAME",c),c){const p=e.values[c];(!p||p!==m)&&(console.log(`✅ Updating ${c} with file data`),e.setFieldValue(c,m))}else console.warn(`❌ No field mapping found for file_type: ${m.file_type}`)}),console.log("=== END SYNC FILES ===")},[n,e]);const o={uploadFnc:async(m,c)=>{var l;if(!t){const i="ID Permohonan tidak ditemukan. Silakan simpan draft terlebih dahulu.";throw Q(i),new Error(i)}const p=C[c];if(!p){const i=`Tipe dokumen tidak valid untuk field: ${c}`;throw Q(i),new Error(i)}if(!m){const i="File tidak valid";throw Q(i),new Error(i)}try{const i=new FormData;i.append("file",m),i.append("id_permohonan",t),i.append("file_type",p),console.log(`🚀 Uploading file: ${m.name} for field: ${c} (type: ${p})`);const s=await xe(i);if(console.log("✅ Upload response:",s.data),s.message==="Success"&&s.data){const d=s.data;console.log("📝 Updating formik with uploaded file data:",d);const k=[...n.filter(S=>S.file_type!==p),d];return e.setFieldValue("files",k),e.setFieldValue(c,d),e.setFieldError(c,void 0),console.log("✅ Successfully updated formik:",{fieldName:c,uploadedFileData:d,updatedFilesCount:k.length}),sa(`Dokumen ${c} berhasil diunggah`),d}else throw new Error(((l=s.data)==null?void 0:l.message)||"Upload response format tidak valid")}catch(i){console.error("❌ Upload error:",i);let s="Gagal mengunggah dokumen";if(i.code==="ECONNABORTED")s="Upload timeout. Periksa koneksi internet dan coba lagi.";else if(i.response){const d=i.response.status,k=i.response.data;switch(d){case 400:s=(k==null?void 0:k.message)||"Request tidak valid";break;case 401:s="Unauthorized. Silakan login ulang.";break;case 413:s="File terlalu besar";break;case 415:s="Tipe file tidak didukung";break;case 500:s="Server error. Silakan coba lagi nanti.";break;default:s=(k==null?void 0:k.message)||`Server error: ${d}`}}else i.request&&(s="Gagal terhubung ke server. Periksa koneksi internet.");throw ra(s),new Error(s)}}};return a.jsxs(F,{className:"mt-3 mb-3",sx:{border:"1px solid #E7E7E7",borderRadius:5,padding:"24px"},children:[a.jsx(H,{title:"Upload Dokumen"}),a.jsxs(g,{children:[a.jsx(r,{lg:"12",xl:"12",children:a.jsx(q,{formik:e,name:"kutipanAktaKelahiran",label:"Kutipan akta atau surat keterangan kelahiran anak yang telah disahkan oleh pejabat",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:B(n,C.kutipanAktaKelahiran),required:!0,...o})}),a.jsx(r,{lg:"12",xl:"12",children:a.jsx(q,{formik:e,name:"IzinKeimigrasian",label:"Izin keimigrasian bagi anak yang tinggal di luar wilayah Indonesia",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:B(n,C.IzinKeimigrasian),required:!0,...o})}),a.jsx(r,{lg:"12",xl:"12",children:a.jsx(q,{formik:e,name:"skTmpTinggal",label:"Surat keterangan tempat tinggal dari camat untuk anak yang tinggal di dalam negeri",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:B(n,C.skTmpTinggal),required:!0,...o})}),a.jsx(r,{lg:"12",xl:"12",children:a.jsx(q,{formik:e,name:"pasporAnak",label:"Paspor anak yang masih berlaku",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:B(n,C.pasporAnak),required:!0,...o})}),a.jsx(r,{lg:"12",xl:"12",children:a.jsx(q,{formik:e,name:"penetapanKeadilan",label:"Penetapan pengadilan negeri tentang pengangkatan anak",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:B(n,C.penetapanKeadilan),required:!0,...o})}),a.jsx(r,{lg:"12",xl:"12",children:a.jsx(q,{formik:e,name:"srtPerwaNgrAsal",label:"Surat dari perwakilan negara asal anak yang menyatakan tidak keberatan anak menjadi WNI",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:B(n,C.srtPerwaNgrAsal),required:!0,...o})}),a.jsx(r,{lg:"12",xl:"12",children:a.jsx(q,{formik:e,name:"kutipanAktaKelaOrtu",label:"Kutipan akta kelahiran orang tua angkat yang telah disahkan oleh pejabat",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:B(n,C.kutipanAktaKelaOrtu),required:!0,...o})}),a.jsx(r,{lg:"12",xl:"12",children:a.jsx(q,{formik:e,name:"pasporKtpOrtu",label:"Paspor atau KTP orang tua angkat yang telah disahkan oleh pejabat",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:B(n,C.pasporKtpOrtu),required:!0,...o})}),a.jsx(r,{lg:"12",xl:"12",children:a.jsx(q,{formik:e,name:"kutipanAktaPerkawinan",label:"Kutipan akta perkawinan, perceraian, talak, atau kematian orang tua angkat yang telah disahkan oleh pejabat",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:B(n,C.kutipanAktaPerkawinan),required:!0,...o})}),a.jsx(r,{lg:"12",xl:"12",children:a.jsx(q,{formik:e,name:"pasfoto",label:"Pasfoto terbaru anak berwarna",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:B(n,C.pasfoto),required:!0,...o})})]}),a.jsxs(pe,{children:[a.jsx(ka,{children:"Semua dokumen yang perlu untuk dilegalisir harus dilakukan sebelum Anda mendaftar secara online. Verifikator tidak akan menerima dokumen legalisir yang dilakukan setelah Anda mendaftar online."}),a.jsx(ka,{children:"Anda harus mengirimkan dokumen-dokumen di atas beserta dokumen yang Anda cetak dan tanda tangani kepada: Subdirektorat Notariat, Direktorat Perdata, Direktorat Jenderal Administrasi Hukum Umum, Kementerian Hukum dan HAM RI, EX Gedung Sentra Mulia, Jl. HR. Rasuna Said Kav x-6/8 Lantai 3 dan 6, Kuningan, Jakarta Selatan, Kode Pos 12940. Selambat-lambatnya 7 hari setelah Anda memasukkan permohonan ini."})]})]})},ze=({formik:e,setActiveStep:t})=>{const{values:n}=e,h=()=>{t(o=>o-4)};return a.jsxs(a.Fragment,{children:[a.jsx(J,{title:"Informasi Pemohon",buttonText:"Ubah",onButtonClick:h}),a.jsxs(F,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:[a.jsxs(g,{children:[a.jsx(r,{xs:"12",md:"6",children:_("Nama Lengkap",n.nama_lengkap_pemohon)}),a.jsx(r,{xs:"12",md:"6",children:_("Email",n.email_pemohon)})]}),a.jsx(g,{children:a.jsx(r,{xs:"12",md:"6",children:_("Jenis Kelamin",n.jenis_kelamin_pemohon)})}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",md:"6",children:_("Tempat Lahir",n.tempat_lahir_pemohon_text)}),a.jsx(r,{xs:"12",md:"6",children:_("Tanggal Lahir",M(n.tgl_lahir_pemohon))})]}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",md:"6",children:_("Tempat Tinggal",n.tempat_tinggal_pemohon)}),a.jsx(r,{xs:"12",md:"6",children:_("Alamat Tinggal",n.alamat_tinggal_pemohon)})]}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",md:"6",children:_("No. Dokumen Pengangkatan Anak",n.no_dok_pengangkatan_anak)}),a.jsx(r,{xs:"12",md:"6",children:_("Tanggal Dokumen Pengangkatan Anak",M(n.tgl_dok_pengangkatan_anak))})]}),a.jsxs(g,{children:[a.jsx(r,{xs:"12",md:"6",children:_("No. Paspor Asing",n.no_paspor_asing_pemohon)}),a.jsx(r,{xs:"12",md:"6",children:_("Tanggal Exp. Paspor Asing",M(n.tgl_exp_paspor_asing_pemohon))})]})]})]})},Oe=({formik:e,setActiveStep:t})=>{const{values:n}=e,h=()=>{t(o=>o-4)};return a.jsxs(a.Fragment,{children:[a.jsx(J,{title:"Informasi Alamat Pemohon",buttonText:"Ubah",onButtonClick:h}),a.jsxs(F,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:[a.jsxs(g,{children:[a.jsx(r,{md:"6",children:_("Tinggal di",n.tempat_tinggal_pemohon)}),a.jsx(r,{md:"6",children:_("Alamat",n.alamat_tinggal_pemohon)})]}),n.tempat_tinggal_pemohon==="Dalam Negeri"?a.jsxs(g,{children:[a.jsx(r,{md:"6",children:_("Provinsi",n.provinsi_tinggal_pemohon_text)}),a.jsx(r,{md:"6",children:_("Kab/Kota",n.kab_kota_tinggal_pemohon_text)})]}):a.jsx(g,{children:a.jsx(r,{md:"6",children:_("Negara Tinggal",n.negara_tinggal_pemohon_text)})})]})]})},Ve=({formik:e,setActiveStep:t})=>{const{values:n}=e,h=()=>{t(o=>o-4)};return a.jsxs(a.Fragment,{children:[a.jsx(J,{title:"Informasi Pengangkatan Anak",buttonText:"Ubah",onButtonClick:h}),a.jsx(F,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:a.jsxs(g,{children:[a.jsx(r,{md:"6",children:_("Nomor Dokumen Pengangkatan",n.no_dok_pengangkatan_anak)}),a.jsx(r,{md:"6",children:_("Tanggal Dokumen Pengangkatan",M(n.tgl_dok_pengangkatan_anak))})]})})]})},We=({formik:e,setActiveStep:t})=>{const{values:n}=e,h=()=>{t(o=>o-4)};return a.jsxs(a.Fragment,{children:[a.jsx(J,{title:"Informasi Paspor Asing",buttonText:"Ubah",onButtonClick:h}),a.jsxs(F,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:[a.jsxs(g,{children:[a.jsx(r,{md:"6",children:_("Nomor Paspor",n.no_paspor_asing_pemohon)}),a.jsx(r,{md:"6",children:_("Wilayah Penerbit Paspor",n.wilayah_paspor_asing_pemohon_text)})]}),a.jsx(g,{children:a.jsx(r,{md:"6",children:_("Tanggal Expired Paspor",M(n.tgl_exp_paspor_asing_pemohon))})})]})]})},He=({formik:e,setActiveStep:t})=>{const{values:n}=e,h=()=>{t(m=>m-3)},o=n.tempat_lahir_ayah==="Dalam Negeri";return a.jsxs(a.Fragment,{children:[a.jsx(J,{title:"Informasi Data Ayah",buttonText:"Ubah",onButtonClick:h}),a.jsxs(F,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:[a.jsxs(g,{children:[a.jsx(r,{md:"6",children:_("Nama Lengkap",n.nama_lengkap_ayah)}),a.jsx(r,{md:"6",children:_("Status Perkawinan",n.status_kawin_ayah)})]}),a.jsx(g,{children:a.jsx(r,{md:"6",children:_("Email",n.email_ayah)})}),a.jsxs(g,{children:[a.jsx(r,{md:"6",children:_("Kewarganegaraan Asal",n.kwn_asal_ayah_text)}),a.jsx(r,{md:"6",children:_("Alamat Tinggal",n.alamat_tinggal_ayah)})]}),a.jsxs(g,{children:[a.jsx(r,{md:"6",children:_("Tempat Lahir",n.tempat_lahir_ayah)}),a.jsx(r,{md:"6",children:_("Tanggal Lahir",M(n.tgl_lahir_ayah))})]}),a.jsx(g,{children:o?a.jsxs(a.Fragment,{children:[a.jsx(r,{md:"6",children:_("Provinsi Tempat Lahir",n.provinsi_lahir_ayah_text)}),a.jsx(r,{md:"6",children:_("Kab/Kota Tempat Lahir",n.kab_kota_lahir_ayah_text)})]}):a.jsx(r,{md:"6",children:_("Negara Tempat Lahir",n.negara_lahir_ayah_text)})})]})]})},Ge=({formik:e,setActiveStep:t})=>{const{values:n}=e,h=()=>{t(m=>m-3)},o=n.tempat_lahir_ibu==="Dalam Negeri";return a.jsxs(a.Fragment,{children:[a.jsx(J,{title:"Informasi Data Ibu",buttonText:"Ubah",onButtonClick:h}),a.jsxs(F,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:[a.jsxs(g,{children:[a.jsx(r,{md:"6",children:_("Nama Lengkap",n.nama_lengkap_ibu)}),a.jsx(r,{md:"6",children:_("Status Perkawinan",n.status_kawin_ibu)})]}),a.jsx(g,{children:a.jsx(r,{md:"6",children:_("Email",n.email_ibu)})}),a.jsxs(g,{children:[a.jsx(r,{md:"6",children:_("Kewarganegaraan Asal",n.kwn_asal_ibu_text)}),a.jsx(r,{md:"6",children:_("Alamat Tinggal",n.alamat_tinggal_ibu)})]}),a.jsxs(g,{children:[a.jsx(r,{md:"6",children:_("Tempat Lahir",n.tempat_lahir_ibu)}),a.jsx(r,{md:"6",children:_("Tanggal Lahir",M(n.tgl_lahir_ibu))})]}),a.jsx(g,{children:o?a.jsxs(a.Fragment,{children:[a.jsx(r,{md:"6",children:_("Provinsi Tempat Lahir",n.provinsi_lahir_ibu_text)}),a.jsx(r,{md:"6",children:_("Kab/Kota Tempat Lahir",n.kab_kota_lahir_ibu_text)})]}):a.jsx(r,{md:"6",children:_("Negara Tempat Lahir",n.negara_lahir_ibu_text)})})]})]})},$e=({formik:e,setActiveStep:t})=>(console.log("PRATINJAU",e.values),a.jsxs("div",{className:"mt-3",children:[a.jsx(ze,{formik:e,setActiveStep:t}),a.jsx(Oe,{formik:e,setActiveStep:t}),a.jsx(Ve,{formik:e,setActiveStep:t}),a.jsx(We,{formik:e,setActiveStep:t}),a.jsx(He,{formik:e,setActiveStep:t}),a.jsx(Ge,{formik:e,setActiveStep:t})]}));function pn({label:e="Formulir Permohonan"}){const t=ma("anakwnangkat"),n=Oa(),{activeStep:h,setActiveStep:o,stepErrors:m,completedSteps:c,isSubmitting:p,formik:l,isStepSkipped:i,handleNext:s,handleBack:d,handleDraft:k,handleSubmit:S,loadingGet:f,postLoading:x,patchLoading:j,successSubmit:w}=Ae(e,t),P=[{id:"1",label:"Boarding",component:a.jsx(ce,{formik:l,setActiveStep:o,label:e})},{id:"2",label:"Identitas Anak",stepNumber:"Langkah 2",component:a.jsx(Ce,{formik:l})},{id:"3",label:"Identitas Orang Tua",stepNumber:"Langkah 3",component:a.jsx(Re,{formik:l})},{id:"4",label:"Surat Permohonan",stepNumber:"Langkah 4",component:a.jsx(Be,{formik:l})},{id:"5",label:"Unggah Dokumen",stepNumber:"Langkah 5",component:a.jsx(Ue,{formik:l})},{id:"6",label:"Pratinjau Formulir",stepNumber:"Langkah 6",component:a.jsx($e,{formik:l,setActiveStep:o})}],T=t?P.filter(I=>I.id!=="1"):P,A={"Formulir Permohonan":t?["2","3","4","5","6"]:["1","2","3","4","5","6"]}[e]||[],D=te(T,A),K=D.filter(I=>I.stepNumber),G=t?h-1:h,U=D[G<0?0:G]||t&&D[0],Y=ie(K,D[G<0?0:G]),na=I=>{const V=t?I+1:I;return!m[V]&&c.has(V)},ta=I=>{const V=t?I+1:I;return m[V]&&Object.keys(m[V]).length>0};return u.useEffect(()=>{n(Va()),n(Wa()),n(Ha()),n(Ga()),n($a())},[]),a.jsxs(F,{className:"bg-white page-content mb-4",sx:{width:"100%"},children:[!w&&K.length>0&&Y>=0&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"mb-4",style:{fontWeight:500,fontSize:24,color:"#262626"},children:"Formulir Pendaftaran"}),a.jsx(Ne,{steps:K,activeStep:Y,isStepSkipped:i,isStepValid:na,isStepHasError:ta})]}),f?a.jsx(re,{}):w?a.jsx(se,{title:"Pendaftaran Berhasil!",subTitle:"Verifikasi akan dilakukan setelah dokumen fisik diterima secara lengkap oleh Subdit Kewarganegaraan dalam waktu paling lama 3 (tiga) hari terhiitung sejak tanggal permohonan diterima.",redirectUrl:"/kewarganegaraan/pernyataan-wni/naturalisasi-anak-angkat"}):a.jsxs(F,{children:[(U==null?void 0:U.component)||a.jsx(F,{sx:{p:2,textAlign:"center"},children:a.jsx("p",{children:"Step tidak ditemukan"})}),h>=1&&a.jsx(Ee,{handleSubmit:S,handleNext:s,handleBack:d,handleDraft:k,activeStep:h,stepsResult:U,isSubmitting:p,postLoading:x,patchLoading:j})]})]})}export{pn as default};
