import{r,a as E,j as e,C as D,bU as x,cw as j,c1 as w,bz as y,cx as C}from"./index-cb7bfd5e.js";import{F as N}from"./FilterSection-bb987950.js";import{C as v}from"./Table-86592770.js";import{a as B}from"./api-2be7e7e7.js";import{F as A}from"./FilterList-140927d4.js";import"./CardContent-50d99df2.js";const S=[{text:"Pernyataan WNI",children:[{text:"Tetap WNI",color:"#2E9860"},{text:"Pemulihan WNI",color:"#E45957"},{text:"Anak dengan WNI ganda",color:"#B0B0B0"},{text:"Naturalisasi Anak Angkat",color:"#6D6D6D"}]},{text:"Kehilangan WNI",children:[{text:"Kemauan Sendiri",color:"#2E9860"},{text:"Memiliki WNA",color:"#E45957"},{text:"Belum Memiliki WNA",color:"#B0B0B0"},{text:"Mengikuti suami/istri",color:"#6D6D6D"}]}],k={currentPage:1,totalPage:1,totalData:0},_=(n={page:1,limit:10})=>{const[i,l]=r.useState(null),[s,d]=r.useState(!0),[m,g]=r.useState(null),[h,b]=r.useState(k);return r.useEffect(()=>{const p=new AbortController;return(async()=>{d(!0),g(null);try{const t=await B(n,{signal:p.signal});l((t==null?void 0:t.data)||[]),b((t==null?void 0:t.pagination)||k)}catch(t){t.name!=="AbortError"&&(g(t),l([]))}finally{d(!1)}})(),()=>p.abort()},[n.page,n.limit]),{data:i,loading:s,error:m,pagination:h,totalItems:h.totalData}},I=n=>[{id:"no",label:"No"},{id:"noPermohonan",label:"No Permohonan"},{id:"namaPemohon",label:"Nama Pemohon"},{id:"jenisPemohon",label:"Jenis Pemohon"},{id:"wilayahPermohon",label:"Wilayah Pemohon"},{id:"tanggalPemohon",label:"Tanggal Pemohon"},{id:"verifikasi",label:"Verifikasi",renderCell:(i,l)=>e.jsx("div",{style:{display:"flex",gap:4},children:i.map((s,d)=>e.jsx(y,{size:"small",label:s.step,style:{backgroundColor:s.color,color:"white",height:20,minWidth:20,borderRadius:"50%",padding:0}},d))})},{id:"aksi",label:"Aksi",renderCell:(i,l)=>e.jsx("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"8px",width:"auto"},children:e.jsx(x,{leftIcon:e.jsx(C,{}),bgColor:"transparent",textColor:"#1E3E8A",border:"1px solid #E7E7E7",sx:{padding:.5},onClick:()=>n("detail",l)})})}],W=[{id:1,label:"Belum Proses",color:"#B0B0B0"},{id:2,label:"Diterima",color:"#2E9860"},{id:3,label:"Ditolak",color:"#E45957"}],M=()=>{const n=E(),[i,l]=r.useState(1),[s,d]=r.useState(10);r.useState("");const{data:m,loading:g,error:h,pagination:b}=_({page:i,limit:s}),p=a=>a?(Array.isArray(a)?a:[a]).map((o,c)=>({id:o.id_permohonan,no:c+1,noPermohonan:o.id_permohonan,namaPemohon:o.nama_lengkap_pemohon,jenisPemohon:o.email_pemohon,wilayahPermohon:o.kab_kota_pemohon_text||o.provinsi_pemohon_text,tanggalPemohon:new Date(o.tgl_lahir_pemohon).toISOString().split("T")[0],verifikasi:t(o.status_aktivitas)})):[],t=a=>Array.from({length:7}).map((o,c)=>{let f="#B0B0B0";return(c+1<a||c+1===a)&&(f="#2E9860"),{step:c+1,color:f}});console.log(m);const P=(a,u)=>{a==="detail"&&n(`/kewarganegaraan/daftar-verifikasi/detail-verifikasi/${u.id}`)};return e.jsxs(D,{className:"page-content bg-white px-4",fluid:!0,children:[e.jsx("div",{className:"my-2",children:e.jsx(N,{data:S})}),e.jsx("div",{className:"my-2",children:e.jsx(v,{data:p(m),title:"Daftar Verifikasi",columns:I(P),enableSearch:!0,searchKeys:["name","applicationNumber"],enablePagination:!0,rowsPerPage:5,loading:g,url:"/kewarganegaraan/daftar-verifikasi/detail-verifikasi",emptyMessage:"Tidak ada permohonan yang cocok dengan pencarian Anda.",topBarAction:e.jsxs("div",{className:"d-flex flex-row align-items-center gap-2 flex-wrap",children:[e.jsx("div",{className:"d-flex flex-row align-items-center border border-1 rounded-2 p-1",children:W.map(a=>e.jsxs("div",{className:"p-1 d-flex align-items-center",style:{gap:8},children:[e.jsx("div",{style:{width:10,height:10,borderRadius:"50%",backgroundColor:a.color}}),e.jsx("span",{style:{fontSize:14},children:a.label})]},a.id))}),e.jsxs("div",{className:"d-flex flex-row align-items-center",children:[e.jsx(x,{text:"Filter",textColor:"#6D6D6D",bgColor:"transparent",border:"1px solid #E7E7E7",leftIcon:e.jsx(A,{size:15})}),e.jsx(x,{text:"Download",textColor:"#6D6D6D",bgColor:"transparent",border:"1px solid #E7E7E7",leftIcon:e.jsx(j,{size:15})}),e.jsx(x,{text:"Tambah",textColor:"#6D6D6D",bgColor:"transparent",border:"1px solid #E7E7E7",leftIcon:e.jsx(w,{size:15})})]})]})})})]})};export{M as default};
