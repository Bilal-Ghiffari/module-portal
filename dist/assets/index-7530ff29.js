import{j as e,bV as I,bW as N,bX as P,aG as g,b8 as c,bw as R,ci as K,cj as A,r as d,c4 as D,c5 as T,g as C,bN as L,bQ as y,bO as u}from"./index-59030646.js";import{p as M,u as F,C as v}from"./user-dummy-img-340a804d.js";import{b as z,c as B}from"./api-c8530f95.js";import{f as W}from"./changeTimeIndo-f11d9ea6.js";import{R as U,C as H}from"./Row-8ad594e3.js";const O=[{label:"Pendaftaran Permohonan",description:"Data permohonan telah diisi dan dikirim oleh pemohon."},{label:"Verifikasi oleh Konseptor",description:"Berkas diperiksa awal oleh Konseptor untuk kelengkapan dan keabsahan."},{label:"Verifikasi oleh Sub koordinator",description:"Verifikasi oleh Subkoordinator"},{label:"Verifikasi oleh Koordinator",description:"Koordinator melakukan pengecekan akhir sebelum diteruskan ke direktur."},{label:"Verifikasi oleh Direktur",description:"Persetujuan akhir oleh Direktur untuk menerbitkan keputusan resmi."},{label:"SK Terbit",description:"Surat Keputusan (SK) telah diterbitkan dan siap diunduh oleh pemohon.",subDescription:"Cetak Surat Keputusan"}],G=({step:t=[],activeStep:n=0,canShowSk:s=!1,onClickSk:a})=>e.jsx(I,{activeStep:n,orientation:"vertical",sx:{"& .MuiStepConnector-root":{ml:"11px"}},children:t.map((l,o)=>e.jsx(N,{sx:{"& .MuiStepLabel-root":{alignItems:"flex-start",...o===n&&{marginBottom:"0px"}},"& .MuiStepLabel-labelContainer":{borderRadius:"6px",padding:"12px 16px",marginRight:"8px",width:"100%",marginTop:"-18px",backgroundColor:o===n?"#F5F9FF":"transparent",border:o===n?"1px solid #D6E4FF":"none",transition:"all 0.3s ease"},"& .MuiStepContent-root":{display:"none"},"& .MuiStepConnector-line":{borderLeftStyle:"dashed",borderLeftWidth:2,color:"#E7E7E7",minHeight:"24px"},"&:last-child .MuiStepConnector-line":{display:"none"}},children:e.jsx(P,{StepIconComponent:V,children:e.jsxs(g,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%",gap:2},children:[e.jsxs("div",{children:[e.jsx(c,{sx:{fontFamily:"Poppins",fontSize:"14px",fontWeight:o===n?600:500,color:o===n?"#041662":"#262626",mb:.5},children:l.label}),e.jsx(c,{sx:{fontFamily:"Poppins",fontSize:"12px",fontWeight:400,color:"#6D6D6D",lineHeight:1.4},children:l.description}),l.subDescription&&s&&e.jsxs(R,{onClick:a,sx:{border:"1px solid #E7E7E7",borderRadius:"4px",mt:1.5,px:1.5,py:.5,"&:hover":{backgroundColor:"#F5F5F5"}},disabled:!s,children:[e.jsx(K,{color:"#041662",size:16}),e.jsx(c,{sx:{fontFamily:"Poppins",fontSize:"12px",fontWeight:500,color:"#041662",textTransform:"initial",marginLeft:1},children:"Cetak SK"})]})]}),e.jsx(c,{sx:{fontFamily:"Poppins",fontSize:"12px",fontWeight:400,color:"#8C8C8C",whiteSpace:"nowrap",pt:.5},children:l.time})]})})},`${o}-${l.label}`))}),V=({active:t,completed:n,icon:s})=>e.jsx(g,{sx:{width:24,height:24,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",border:`2px solid ${n?"#1F7C4D":t?"#041662":"#B0B0B0"}`,backgroundColor:n?"#1F7C4D":t?"#041662":"transparent",position:"relative",zIndex:1,"&:before":{content:'""',position:"absolute",width:8,height:8,borderRadius:"50%"}},children:n?e.jsx(A,{sx:{color:"#fff",fontSize:16}}):t?e.jsx(g,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:"#fff"}}):null}),$=({id:t})=>{const[n,s]=d.useState([]),[a,l]=d.useState(!0),[o,x]=d.useState(null);return d.useEffect(()=>{const p=new AbortController;return(async()=>{l(!0),x(null);try{const r=await z(t);s((r==null?void 0:r.data)||[])}catch(r){r.name!=="AbortError"&&(x(r),s([]))}finally{l(!1)}})(),()=>p.abort()},[]),{data:n,loading:a,error:o}},J="/assets/Frame 1171276625-9f8debef.png",q=({suratRef:t,children:n})=>e.jsx(g,{sx:{border:"1px solid #e0e0e0",borderRadius:2,mb:3,width:"210mm",height:"330mm",margin:"0 auto"},children:e.jsxs("div",{ref:t,style:{padding:35,fontFamily:"Times New Roman",fontSize:12,lineHeight:1.6,backgroundColor:"#ffffff"},children:[e.jsx("img",{src:J,alt:"Blank Certificate Template",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"fill",zIndex:0,pointerEvents:"none"}}),e.jsx("div",{style:{position:"relative",zIndex:1,paddingLeft:30,paddingRight:30,color:"#000000"},children:n})]})}),S=d.forwardRef(({data:t,dataSk:n},s)=>{const a=d.useRef(null);console.log("DATA SK",n);const l=n==null?void 0:n.qr_url,o=async()=>{var p;if(a.current)try{console.log("Memulai proses download PDF...");const r=await D(a.current,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),b=r.toDataURL("image/png"),h=new T("p","mm",[210,330]),f=h.internal.pageSize.getWidth(),j=h.internal.pageSize.getHeight(),m=f,w=r.height*f/r.width;let k=w,E=0;for(h.addImage(b,"PNG",0,E,m,w),k-=j;k>0;)E=k-j,h.addPage(),h.addImage(b,"PNG",0,E,m,w),k-=j;const _=`Surat_keputusan_Pewarganegaraan_${((p=t==null?void 0:t.nama_lengkap_pemohon)==null?void 0:p.replace(/\s+/g,"_"))||"document"}_${new Date().getTime()}.pdf`;h.save(_),console.log("PDF berhasil didownload")}catch(r){console.error("Error saat mendownload PDF:",r),alert("Terjadi kesalahan saat mendownload dokumen. Silakan coba lagi.")}else console.error("Element surat tidak ditemukan")};d.useImperativeHandle(s,()=>({handleDownload:o}));const x=p=>p?new Date(p).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"-";return t?e.jsx("div",{className:"mt-5 mb-3 px-2",children:e.jsx(g,{sx:{border:"1px solid #E7E7E7",borderRadius:5,padding:2,fontFamily:"sans-serif"},children:e.jsx(U,{children:e.jsx(H,{children:e.jsxs(q,{suratRef:a,children:[e.jsxs("div",{className:"text-center",style:{marginBottom:20,marginTop:50},children:[e.jsx("img",{src:M,alt:"Logo Kementerian",style:{marginBottom:5,maxWidth:"90px"}}),e.jsx("p",{style:{fontWeight:"bold",fontSize:"18px",margin:0},children:"KEMENTERIAN HUKUM REPUBLIK INDONESIA"})]}),e.jsxs("div",{className:"text-center",style:{marginTop:30,marginBottom:20},children:[e.jsx("p",{style:{fontWeight:"bold",margin:0,fontSize:"16px"},children:"KEPUTUSAN MENTERI HUKUM REPUBLIK INDONESIA"}),e.jsxs("p",{style:{margin:0,marginTop:20,fontSize:"18px"},children:["Nomor : ",n==null?void 0:n.nomor_sk]}),e.jsx("p",{style:{margin:0,fontSize:"14px"},children:"Tentang"}),e.jsxs("p",{style:{fontWeight:"bold",margin:0,fontSize:"14px"},children:["MEMPEROLEH KEMBALI KEWARGANEGARAAN REPUBLIK INDONESIA"," "]}),e.jsx("p",{style:{margin:0,fontSize:"14px"},children:"Atas Nama "}),e.jsxs("p",{style:{fontWeight:"bold",margin:0,fontSize:"14px"},children:["MENTERI HUKUM INDONESIA REPUBLIK INDONESIA"," "]})]}),e.jsx("div",{style:{marginTop:30},children:e.jsx("table",{style:{width:"100%",fontSize:12},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top",width:"15%"},children:"Menimbang :"}),e.jsx("td",{style:{verticalAlign:"top"},children:"Bahwa setelah dilakukan pemeriksaan kelengkapan dokumen persyaratan yang dilampirkan oleh pemohon telah memenuhi persyaratan, sehingga dapat dilakukan."})]})})})}),e.jsx("div",{style:{marginTop:10},children:e.jsx("table",{style:{width:"100%",fontSize:12},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top",width:"15%"},children:"Mengingat :"}),e.jsx("td",{style:{verticalAlign:"top",width:"2%"},children:"1."}),e.jsx("td",{style:{verticalAlign:"top"},children:"Undang-Undang Nomor12 Tahun 2006 tentang Kewarganegaraan Republik Indonesia (Lembaran Negara Republik Indonesia Tahun 2006 Nomor 63, Tambahan Lembaga Negara Republik Indonesia Nomor 4634)."})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{style:{verticalAlign:"top"},children:"2."}),e.jsx("td",{style:{verticalAlign:"top"},children:"Undang-Undang Nomor12 Tahun 2006 tentang Kewarganegaraan Republik Indonesia (Lembaran Negara Republik Indonesia Tahun 2006 Nomor 63, Tambahan Lembaga Negara Republik Indonesia Nomor 4634)."})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{style:{verticalAlign:"top"},children:"3."}),e.jsx("td",{style:{verticalAlign:"top"},children:"Peraturan Pemerintah Republik Indonesia Nomor 2 Tahun 2007 tentang Tata Cara Memperoleh, Kehilangan, Pembatalan, dan Memperoleh Kembali Kewarganegaraan Republik Indonesia (Lembaran Negara Republik Indonesia Tahun 2007 Nomor 2, Tambahan Lembaran Negara Republik Indonesia Nomor 4676)."})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{style:{verticalAlign:"top"},children:"4."}),e.jsx("td",{style:{verticalAlign:"top"},children:"Peraturan Menteri Hukum Nomor 47 Tahun 2016 tentang Tata Cara Penyampaian Permohonan Kewarganegaraan Republik Indonesia Secara Elektronik (Berita Negara Republik Indonesia Tahun 2016 Nomor 1938)."})]})]})})}),e.jsxs("div",{style:{marginTop:20},children:[e.jsx("p",{className:"text-center",style:{fontWeight:"bold",marginBottom:10},children:"Memutuskan :"}),e.jsx("table",{style:{width:"100%",fontSize:12},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top",width:"15%"},children:"Menetapkan :"}),e.jsx("td",{style:{verticalAlign:"top"},children:"Keputusan Menteri Hukum Republik Indonesia Tentang Memperoleh Kembali Kewarganegaraan Republik Indonesia."})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top",width:"15%"},children:"Kesatu :"}),e.jsxs("td",{style:{verticalAlign:"top",width:"85%"},children:[t.nama_lengkap_pemohon," dilahirkan di"," ",t.negara_lahir_pemohon_text," tanggal"," ",W(t.tgl_lahir_pemohon)," ","memperoleh kembali Kewarganegaraan Republik Indonesia berdasarkan Pasal 32 Undang-Undang Nomor 12 Tahun 2006 tentang Kewarganegaraan Republik Indonesia."]})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top"},children:"Kedua :"}),e.jsx("td",{style:{verticalAlign:"top"},children:"Pemohon harus melaporkan kepada pejabat keimigrasian dan pencacatan sipil setelah memperoleh kewarganegaraan Republik Indonesia"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top"},children:"Ketiga :"}),e.jsx("td",{style:{verticalAlign:"top"},children:"Keputusan ini mulai berlaku pada tanggal ditetapkandengan ketentuan apabila di kemudian hari terdapat kekeliruan akan diperbaiki sebagaimaan mestinya."})]})]})})]}),e.jsxs("div",{style:{marginTop:39,display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:5,paddingRight:5},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:30,marginRight:20,marginLeft:30},children:[e.jsx("img",{src:F,alt:"Logo Kementerian",style:{marginBottom:5,maxWidth:"100px"}}),e.jsx("img",{src:l,alt:"Logo Kementerian",style:{marginBottom:5,maxWidth:"100px"}})]}),e.jsxs("div",{style:{textAlign:"center",marginTop:0,height:217,position:"relative"},children:[e.jsx("p",{style:{margin:0},children:"Ditetapkan di Jakarta"}),e.jsxs("p",{style:{margin:0},children:["pada tanggal ",x(new Date),"."]}),e.jsx("p",{style:{margin:0,marginTop:5},children:"a.n Menteri Hukum Republik Indonesia"}),e.jsx("p",{style:{margin:0},children:"Direktur Jenderal Administrasi Hukum Umum"}),e.jsxs("div",{style:{position:"absolute",bottom:"10%",left:"25%"},children:[e.jsx("p",{style:{fontWeight:"bold",margin:0},children:"Widodo"}),e.jsx("p",{style:{fontWeight:"",margin:0},children:"NIP. 19661118 199403 1 001"})]})]})]}),e.jsx("div",{style:{paddingLeft:25,paddingRight:25,paddingBottom:20,display:"flex",justifyContent:"center"},children:e.jsx("p",{style:{fontSize:"11px",textAlign:"center"},children:"Surat Keputusan Menteri ini diterbitkan secara daring berdasarkan isian dari pemohon. Ketidaksesuaian data di kemudian hari menjadi tanggung jawab pemohon dan dapat dikenai sanksi sesuai dengan ketentuan peraturan perundang-undangan yang berlaku."})})]})})})})}):e.jsx("div",{children:"Loading document data..."})});S.displayName="SuratKeteranganTerbit";const ae=()=>{const t=C(),n=d.useRef(null),{id:s}=t,{data:a,loading:l,error:o}=$({id:s});console.log("DATA DETAIL PERMOHONAN",a);const x=a.status_aktivitas===6,[p,r]=d.useState(null),[b,h]=d.useState(!1),f=()=>{n.current?n.current.handleDownload():console.error("SuratPermohonan component ref is not available.")};return d.useEffect(()=>{(async()=>{if(!(!s||!(a!=null&&a.status_aktivitas)||a.status_aktivitas<=5)){console.log("APi RUn when status 7");try{h(!0);const m=await B({id_permohonan:s});r((m==null?void 0:m.data)||null)}catch(m){console.error("Gagal mengambil data SK:",m),r(null)}finally{h(!1)}}})()},[s,a]),e.jsxs(L,{className:"page-content bg-white mt-3",children:[e.jsxs(g,{sx:{borderRadius:"12px",border:"1px solid #E7E7E7",padding:"24px"},children:[o&&e.jsxs("p",{style:{color:"red"},children:["Error : ",o.message]}),l||b?e.jsx("p",{children:"Loading"}):e.jsxs(e.Fragment,{children:[e.jsx(c,{variant:"h6",sx:{fontWeight:500,fontFamily:"Poppins",fontSize:"20px",lineHeight:"24px",color:"#041662"},children:"Pratinjau Formulir"}),e.jsx(y,{sx:{my:2,border:"1px dashed #E7E7E7"}}),e.jsxs(u,{container:!0,spacing:2,children:[e.jsx(u,{item:!0,xs:12,sm:12,md:6,children:e.jsxs(v,{title:"Informasi Pribadi",defaultExpanded:!1,children:[e.jsx(i,{label:"Nama Lengkap",value:a.nama_lengkap_pemohon}),e.jsx(i,{label:"Kewarganegaraan Asal",value:a.kewarganegaraan_asal_pemohon_text}),e.jsx(i,{label:"Jenis Kelamin",value:a.jenis_kelamin_pemohon}),e.jsx(i,{label:"Agama",value:a.agama_pemohon}),e.jsx(i,{label:"Pekerjaan",value:a.pekerjaan_pemohon_text})]})}),e.jsx(u,{item:!0,xs:12,sm:12,md:6,children:e.jsxs(v,{title:"Informasi Pernikahan",defaultExpanded:!1,children:[e.jsx(i,{label:"Status Perkawinan",value:a.status_kawin}),e.jsx(i,{label:"Tanggal Pernikahan",value:a.tgl_kawin}),e.jsx(i,{label:"Nomor Buku Nikah",value:a.no_buku_nikah}),e.jsx(i,{label:"Nomor SKIM",value:a.no_skim})]})})]}),e.jsx(y,{sx:{my:2,border:"1px dashed #E7E7E7"}}),e.jsxs(u,{container:!0,spacing:2,children:[e.jsx(u,{item:!0,xs:12,sm:12,md:6,children:e.jsxs(v,{title:"Data Alamat",defaultExpanded:!1,children:[e.jsx(i,{label:"Provinsi",value:a.provinsi_pemohon_text}),e.jsx(i,{label:"Kota",value:a.kab_kota_pemohon_text}),e.jsx(i,{label:"Kecamatan",value:a.kec_pemohon_text}),e.jsx(i,{label:"Kelurahan",value:a.desa_kel_pemohon_text}),e.jsx(i,{label:"Jalan",value:a.alamat_pemohon}),e.jsx(i,{label:"Kode Pos",value:a.kode_pos})]})}),e.jsx(u,{item:!0,xs:12,sm:12,md:6,children:e.jsxs(v,{title:"Informasi Data Pasangan WNI",defaultExpanded:!1,children:[e.jsx(i,{label:"Nama Lengkap",value:a.nama_pasangan}),e.jsx(i,{label:"Tanggal Lahir",value:a.tgl_lahir_pasangan}),e.jsx(i,{label:"Pekerjaan",value:a.pekerjaan_pasangan_text}),e.jsx(i,{label:"Negara",value:a.pekerjaan_pasangan_text}),e.jsx(i,{label:"Provinsi",value:a.provinsi_lahir_pasangan_text}),e.jsx(i,{label:"Kab/Kota",value:a.kab_kota_lahir_pasangan_text})]})})]}),e.jsx(y,{sx:{my:2,border:"1px dashed #E7E7E7"}}),e.jsx(c,{variant:"h6",sx:{fontWeight:500,fontFamily:"Poppins",fontSize:"20px",lineHeight:"24px",color:"#041662"},children:"Aktivitas Permohonan"}),e.jsx(y,{sx:{my:2,border:"1px dashed #E7E7E7"}}),e.jsx(G,{step:O,activeStep:a.status_aktivitas-1,onClickSk:f,canShowSk:x})]})]}),e.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px"},children:e.jsx(S,{ref:n,data:a,dataSk:p})})]})},i=({label:t,value:n})=>e.jsxs(g,{sx:{display:"flex",alignItems:"flex-start",marginBottom:"8px"},children:[e.jsx(g,{children:e.jsxs(c,{variant:"body2",sx:{fontWeight:400,fontFamily:"Poppins",fontSize:"14px",color:"#6D6D6D",whiteSpace:"nowrap"},children:[t,":"]})}),e.jsx(c,{variant:"body2",sx:{fontWeight:500,fontFamily:"Poppins",fontSize:"14px",color:"#202020",ml:1,wordBreak:"break-word"},children:n||"-"})]});export{ae as default};
