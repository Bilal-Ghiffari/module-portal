import{r as h,j as e,bV as K,bW as T,bX as D,aG as x,b8 as g,bw as R,ci as U,cj as M,c4 as C,c5 as L,g as W,bN as v,bQ as k,bO as b}from"./index-cb7bfd5e.js";import{p as B,u as F,C as y}from"./user-dummy-img-7d424160.js";import{b as H,c as z}from"./api-9b25312e.js";import{f}from"./changeTimeIndo-f11d9ea6.js";import{R as G,C as O}from"./Row-8b3feaed.js";const V=[{id:1,label:"Pembelian Voucher",description:"Voucher berhasil dibeli sebagai syarat awal pengajuan permohonan."},{id:2,label:"Pendaftaran Permohonan",description:"Data permohonan telah diisi dan dikirim oleh pemohon."},{id:3,label:"Verifikasi oleh PBK",description:"Berkas diperiksa awal oleh PBK untuk kelengkapan dan keabsahan."},{id:4,label:"Verifikasi oleh FU",description:"Verifikasi oleh FU"},{id:5,label:"Verifikasi oleh Kasi",description:"Verifikasi oleh FU"},{id:6,label:"Verifikasi oleh Kasubdit",description:"Kasubdit melakukan pengecekan akhir sebelum diteruskan ke direktur."},{id:7,label:"Verifikasi oleh Direktur",description:"Persetujuan akhir oleh Direktur untuk menerbitkan keputusan resmi."},{id:8,label:"SK Terbit",description:"Surat Keputusan (SK) telah diterbitkan dan siap diunduh oleh pemohon.",subDescription:"Cetak Surat Keputusan"}],J=({id:t})=>{const[n,o]=h.useState([]),[a,r]=h.useState(!0),[d,m]=h.useState(null);return h.useEffect(()=>{const u=new AbortController;return(async()=>{r(!0),m(null);try{const l=await H(t);console.log(l),o((l==null?void 0:l.data)||[])}catch(l){l.name!=="AbortError"&&(m(l),o([]))}finally{r(!1)}})(),()=>u.abort()},[]),{data:n,loading:a,error:d}},$=({step:t=[],activeStep:n=0,canShowSk:o=!1,onClickSk:a})=>e.jsx(K,{activeStep:n,orientation:"vertical",sx:{"& .MuiStepConnector-root":{ml:"11px"}},children:t.map((r,d)=>e.jsx(T,{sx:{"& .MuiStepLabel-root":{alignItems:"flex-start",...d===n&&{marginBottom:"0px"}},"& .MuiStepLabel-labelContainer":{borderRadius:"6px",padding:"12px 16px",marginRight:"8px",width:"100%",marginTop:"-18px",backgroundColor:d===n?"#F5F9FF":"transparent",border:d===n?"1px solid #D6E4FF":"none",transition:"all 0.3s ease"},"& .MuiStepContent-root":{display:"none"},"& .MuiStepConnector-line":{borderLeftStyle:"dashed",borderLeftWidth:2,color:"#E7E7E7",minHeight:"24px"},"&:last-child .MuiStepConnector-line":{display:"none"}},children:e.jsx(D,{StepIconComponent:q,children:e.jsxs(x,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%",gap:2},children:[e.jsxs("div",{children:[e.jsx(g,{sx:{fontFamily:"Poppins",fontSize:"14px",fontWeight:d===n?600:500,color:d===n?"#041662":"#262626",mb:.5},children:r.label}),e.jsx(g,{sx:{fontFamily:"Poppins",fontSize:"12px",fontWeight:400,color:"#6D6D6D",lineHeight:1.4},children:r.description}),r.subDescription&&e.jsxs(R,{onClick:a,sx:{border:"1px solid #E7E7E7",borderRadius:"4px",mt:1.5,px:1.5,py:.5,"&:hover":{backgroundColor:"#F5F5F5"}},disabled:!o,children:[e.jsx(U,{color:"#041662",size:16}),e.jsx(g,{sx:{fontFamily:"Poppins",fontSize:"12px",fontWeight:500,color:"#041662",textTransform:"initial",marginLeft:1},children:"Cetak SK"})]})]}),e.jsx(g,{sx:{fontFamily:"Poppins",fontSize:"12px",fontWeight:400,color:"#8C8C8C",whiteSpace:"nowrap",pt:.5},children:r.time})]})})},r.id))}),q=({active:t,completed:n,icon:o})=>e.jsx(x,{sx:{width:24,height:24,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",border:`2px solid ${n?"#1F7C4D":t?"#041662":"#B0B0B0"}`,backgroundColor:n?"#1F7C4D":t?"#041662":"transparent",position:"relative",zIndex:1,"&:before":{content:'""',position:"absolute",width:8,height:8,borderRadius:"50%"}},children:n?e.jsx(M,{sx:{color:"#fff",fontSize:16}}):t?e.jsx(x,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:"#fff"}}):null}),I=h.forwardRef(({data:t,dataSk:n},o)=>{var u,l;const a=h.useRef(null);t.files.find(p=>p.file_type===6);const r=n==null?void 0:n.qr_url;console.log(r);const d=async()=>{var p;if(!n){console.warn("SK belum tersedia untuk diunduh.");return}if(a.current)try{console.log("Memulai proses download PDF...");const c=await C(a.current,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff"}),A=c.toDataURL("image/png"),s=new L("p","mm","a4"),N=s.internal.pageSize.getWidth(),_=s.internal.pageSize.getHeight(),w=N,E=c.height*N/c.width;let j=E,S=0;for(s.addImage(A,"PNG",0,S,w,E),j-=_;j>0;)S=j-_,s.addPage(),s.addImage(A,"PNG",0,S,w,E),j-=_;const P=`sk_kewarganegaraan_${((p=t==null?void 0:t.nama_lengkap_pemohon)==null?void 0:p.replace(/\s+/g,"_"))||"document"}_${new Date().getTime()}.pdf`;s.save(P),console.log("PDF berhasil didownload")}catch(c){console.error("Error saat mendownload PDF:",c),alert("Terjadi kesalahan saat mendownload dokumen. Silakan coba lagi.")}else console.error("Element surat tidak ditemukan")};h.useImperativeHandle(o,()=>({handleDownload:d}));const m=p=>p?new Date(p).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"-";return t?e.jsx("div",{className:"mt-5 mb-3 px-2",children:e.jsx(x,{sx:{border:"1px solid #E7E7E7",borderRadius:5,padding:2},children:e.jsx(G,{children:e.jsx(O,{children:e.jsx(x,{sx:{border:"1px solid #e0e0e0",borderRadius:2,mb:3,maxWidth:890,margin:"0 auto"},children:e.jsxs("div",{ref:a,style:{padding:50,fontFamily:"Times New Roman",fontSize:12,lineHeight:1.6,backgroundColor:"#ffffff"},children:[e.jsxs("div",{className:"text-center",style:{marginBottom:20},children:[e.jsx("img",{src:B,alt:"Logo Kementerian",style:{marginBottom:10,maxWidth:"120px"}}),e.jsx("p",{style:{fontWeight:"bold",fontSize:14,margin:0},children:"KEMENTERIAN HUKUM DAN HAK ASASI MANUSIA"}),e.jsx("p",{style:{fontWeight:"bold",fontSize:14,margin:0},children:"REPUBLIK INDONESIA"})]}),e.jsxs("div",{className:"text-center",style:{marginTop:30,marginBottom:20},children:[e.jsx("p",{style:{fontWeight:"bold",margin:0},children:"KEPUTUSAN MENTERI HUKUM DAN HAK ASASI MANUSIA"}),e.jsx("p",{style:{fontWeight:"bold",margin:0},children:"REPUBLIK INDONESIA"}),e.jsxs("p",{style:{fontWeight:"bold",margin:0,marginTop:10,marginBottom:10},children:["NOMOR : ",n==null?void 0:n.nomor_sk]}),e.jsx("p",{style:{fontWeight:"bold",margin:0},children:"TENTANG"}),e.jsx("p",{style:{fontWeight:"bold"},children:"TETAP SEBAGAI WARGA NEGARA INDONESIA"}),e.jsxs("p",{style:{fontWeight:"bold",marginTop:10,marginBottom:10},children:["ATAS NAMA"," ",((u=t.nama_lengkap_pemohon)==null?void 0:u.toUpperCase())||"NAMA PEMOHON"]}),e.jsx("p",{style:{fontWeight:"bold",margin:0},children:"MENTERI HUKUM DAN HAK ASASI MANUSIA REPUBLIK INDONESIA"})]}),e.jsx("div",{style:{marginTop:30},children:e.jsx("table",{style:{width:"100%",fontSize:12},children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top",width:"15%"},children:"Menimbang :"}),e.jsx("td",{style:{verticalAlign:"top"},children:"Bahwa setelah dilakukan pemeriksaan kelengkapan dokumen persyaratan yang dilampirkanoleh pemohontelah memmenuhi persyaratan, sehingga dapat dikabulkan"})]})})})}),e.jsx("div",{style:{marginTop:20},children:e.jsx("table",{style:{width:"100%",fontSize:12},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top",width:"15%"},children:"Mengingat :"}),e.jsx("td",{style:{verticalAlign:"top",width:"2%"},children:"1."}),e.jsx("td",{style:{verticalAlign:"top"},children:"Undang-Undang nomor 12 tahun 2006 tentang Kewarganegaraan Republik Indonesia (Lembaran Negara Republik Indonesia Tahun 2006 Nomor 63, Tambahan Lembaran Negara Republik Indonesia Nomor 4634)"})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{style:{verticalAlign:"top"},children:"2."}),e.jsx("td",{style:{verticalAlign:"top"},children:"Peraturan Pemerintah Republik Indonesia Nomor 2 Tahun 2007 tentang Tata Cara Memperoleh, Kehilangan, Pembatalan, dan Memperoleh Kembali Kewarganegaraan Republik Indonesia (Lembaran Negara Republik Indonesia tahun 2007 Nomor 2, Tambahan Lembaran Negara Republik Indonesia Nomor 4676)"})]}),e.jsxs("tr",{children:[e.jsx("td",{}),e.jsx("td",{style:{verticalAlign:"top"},children:"3."}),e.jsx("td",{style:{verticalAlign:"top"},children:"Peraturan Menteri Hukum dan Hak Asasi Manusia Republik Indonesia Nomor 47 Tahun 2016 tentang Tata Cara Penyampaian Permohonan Kewarganegaraan Respublik Indonesia Secara Elektronik (Berita Negara )"})]})]})})}),e.jsxs("div",{style:{marginTop:5},children:[e.jsx("p",{className:"text-center",style:{fontWeight:"bold",marginBottom:20},children:"MEMUTUSKAN :"}),e.jsx("table",{style:{width:"100%",fontSize:12},children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top",width:"15%"},children:"Menetapkan :"}),e.jsx("td",{style:{verticalAlign:"top"},children:"KEPUTUSAN MENTERI HUKUM DAN HAK ASASI MANUSIA REPUBLIK INDONESIA TENTANG KEWARGANEGARAAN REPUBLIK INDONESIA"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top",width:"15%"},children:"KESATU :"}),e.jsxs("td",{style:{verticalAlign:"top",width:"85%"},children:[e.jsx("span",{children:((l=t.nama_lengkap_pemohon)==null?void 0:l.toUpperCase())||"NAMA PEMOHON"}),", yang dilahirkan di"," ",e.jsx("span",{children:t.kab_kota_tinggal_pemohon_text}),", tanggal ",m(t.tgl_lahir_pemohon),", yang telah melangsungkan perkawinan dengan"," ",t.nama_lengkap_pasangan," warga negara"," ",t.negara_lahir_pasangan_text," pada tanggal"," ",f(t.tgl_akta_kawin_pemohon)," ","sesuai akta perkawinan nomor"," ",t.no_akta_kawin_pemohon," tanggal"," ",f(t.tgl_akta_kawin_pemohon)," ","adalah tetap sebagai warga negara indonesia berdasarkan Pasal 26 Undang-Undang Nomor 12 Tahun 2006 tentang Kewarganegaraan Republik Indonesia"]})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top"},children:"KEDUA :"}),e.jsx("td",{style:{verticalAlign:"top"},children:"Pemohon harus melaporkan kepada pejabat keimigrasian dan pejabat pencatatan sipil setelah memperoleh Kewarganegaraan Republik Indonesia"})]}),e.jsxs("tr",{children:[e.jsx("td",{style:{verticalAlign:"top"},children:"KETIGA :"}),e.jsx("td",{style:{verticalAlign:"top"},children:"Keputusan ini mulai berlaku pada tanggal ditetapkan dengan ketentuan apabila dikemudian hari terdapat kekeliruan akan diperbaiki sebagaimana mestinya"})]})]})})]}),e.jsxs("div",{style:{marginTop:10,display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:5,paddingRight:5},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:10,marginRight:20},children:[e.jsx("img",{src:F,alt:"Logo Kementerian",style:{marginBottom:10,maxWidth:"100px"}}),e.jsx("img",{src:r,alt:"Logo Kementerian",style:{marginBottom:10,maxWidth:"100px"}})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("p",{style:{margin:0},children:"Ditetapkan di Jakarta"}),e.jsxs("p",{style:{margin:0},children:["pada tanggal ",m(new Date),"."]}),e.jsx("p",{style:{margin:0,marginTop:10},children:"a.n MENTERI HUKUM"}),e.jsx("p",{style:{margin:0},children:"REPUBLIK INDONESIA"}),e.jsx("p",{style:{margin:0},children:"DIREKTUR JENDERAL ADMINISTRASI HUKUM UMUM"}),e.jsx("div",{style:{height:60}}),e.jsx("p",{style:{fontWeight:"bold",margin:0},children:"Widodo"})]})]}),e.jsx("div",{children:e.jsx("p",{style:{fontWeight:"bolder",fontSize:"10px",textAlign:"center",marginTop:10},children:"Surat Keterangan ini diproses melalui Sistem AHU Kewarganegaraan yang diisioleh Pemohon. Apabila kemudian hari format isian tidak sesuai dengan data sebenarnya, maka pemohon dapat menerima sanksi sesuai dengan peraturan perundang-undangan."})})]})})})})})}):e.jsx("div",{children:"Loading document data..."})});I.displayName="SuratKeteranganTerbit";const ae=()=>{const t=W(),{id:n}=t,o=h.useRef(null),{data:a,loading:r}=J({id:n}),[d,m]=h.useState(null),[u,l]=h.useState(!1),p=()=>{o.current?o.current.handleDownload():console.error("SuratPermohonan component ref is not available.")},c=a.status_aktivitas>6;return n?(h.useEffect(()=>{(async()=>{if(!(!n||!(a!=null&&a.status_aktivitas)||a.status_aktivitas<=6))try{l(!0);const s=await z({id_permohonan:n});m((s==null?void 0:s.data)||null)}catch(s){console.error("Gagal mengambil data SK:",s),m(null)}finally{l(!1)}})()},[n,a]),e.jsx(v,{className:"page-content bg-white mt-3",children:e.jsx(x,{sx:{borderRadius:"12px",border:"1px solid #E7E7E7",padding:"24px"},children:r||u?e.jsx("p",{children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsx(g,{variant:"h6",sx:{fontWeight:500,fontFamily:"Poppins",fontSize:"20px",lineHeight:"24px",color:"#041662"},children:"Pratinjau Formulir"}),e.jsx(k,{sx:{my:2,border:"1px dashed #E7E7E7"}}),e.jsxs(b,{container:!0,spacing:2,children:[e.jsx(b,{item:!0,xs:12,sm:12,md:6,children:e.jsxs(y,{title:"Informasi Pribadi",defaultExpanded:!1,children:[e.jsx(i,{label:"Nama Lengkap",value:a.nama_lengkap_pemohon}),e.jsx(i,{label:"NIK",value:a.nik_pemohon}),e.jsx(i,{label:"Tempat Lahir",value:a.negara_lahir_pemohon_text}),e.jsx(i,{label:"Tanggal Lahir",value:f(a.tgl_lahir_pemohon)}),e.jsx(i,{label:"Jenis Kelamin",value:a.jenis_kelamin_pemohon}),e.jsx(i,{label:"Kewarganegaraan Asal",value:a.kewarganegaraan_asal_pemohon_text}),e.jsx(i,{label:"Pekerjaan",value:a.pekerjaan_pemohon_text})]})}),e.jsx(b,{item:!0,xs:12,sm:12,md:6,children:e.jsxs(y,{title:"Informasi Pernikahan",defaultExpanded:!1,children:[e.jsx(i,{label:"Status Perkawinan",value:a.status_kawin_pemohon}),e.jsx(i,{label:"Tanggal Pernikahan",value:f(a.tgl_akta_kawin_pemohon)}),e.jsx(i,{label:"Nomor Buku Nikah",value:a.no_akta_kawin_pemohon}),e.jsx(i,{label:"Nama Pasangan",value:a.nama_lengkap_pasangan}),e.jsx(i,{label:"Tempat Lahir Pasangan",value:a.negara_lahir_pasangan_text}),e.jsx(i,{label:"Tanggal Lahir Pasangan",value:f(a.tgl_lahir_pasangan)}),e.jsx(i,{label:"Kewarganegaraan Pasangan",value:a.kewarganegaraan_pasangan_text}),e.jsx(i,{label:"Alamat Tinggal Pasangan",value:a.alamat_tinggal_pasangan})]})})]}),e.jsx(k,{sx:{my:2,border:"1px dashed #E7E7E7"}}),e.jsxs(b,{container:!0,spacing:2,children:[e.jsx(b,{item:!0,xs:12,sm:12,md:6,children:e.jsxs(y,{title:"Alamat Tinggal Pemohon",defaultExpanded:!1,children:[e.jsx(i,{label:"Alamat",value:a.alamat_tinggal_pemohon}),e.jsx(i,{label:"Provinsi",value:a.provinsi_tinggal_pemohon_text}),e.jsx(i,{label:"Kab/Kota",value:a.kab_kota_tinggal_pemohon_text}),e.jsx(i,{label:"Tempat Tinggal",value:a.tempat_tinggal_pemohon})]})}),e.jsx(b,{item:!0,xs:12,sm:12,md:6,children:e.jsxs(y,{title:"Kontak",defaultExpanded:!1,children:[e.jsx(i,{label:"Email",value:a.email_pemohon}),e.jsx(i,{label:"No HP",value:a.no_hp_pemohon}),e.jsx(i,{label:"No Telepon",value:a.no_telp_pemohon})]})})]}),e.jsx(k,{sx:{my:2,border:"1px dashed #E7E7E7"}}),e.jsx(g,{variant:"h6",sx:{fontWeight:500,fontFamily:"Poppins",fontSize:"20px",lineHeight:"24px",color:"#041662"},children:"Aktivitas Permohonan"}),e.jsx(k,{sx:{my:2,border:"1px dashed #E7E7E7"}}),e.jsx($,{step:V,activeStep:a.status_aktivitas,canShowSk:c,onClickSk:p}),e.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px"},children:e.jsx(I,{ref:o,data:a,dataSk:d})})]})})})):e.jsx(v,{className:"page-content bg-white mt-3",children:e.jsx(g,{variant:"h6",children:"ID tidak ditemukan.Harap refresh halaman"})})},i=({label:t,value:n})=>e.jsxs(x,{sx:{display:"flex",alignItems:"flex-start",marginBottom:"8px"},children:[e.jsx(x,{children:e.jsxs(g,{variant:"body2",sx:{fontWeight:400,fontFamily:"Poppins",fontSize:"14px",color:"#6D6D6D",whiteSpace:"nowrap"},children:[t,":"]})}),e.jsx(g,{variant:"body2",sx:{fontWeight:500,fontFamily:"Poppins",fontSize:"14px",color:"#202020",ml:1,wordBreak:"break-word"},children:n||"-"})]});export{ae as default};
