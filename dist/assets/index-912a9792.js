import{r as c,A as fa,j as a,bw as Da,s as ja,b as _,c as i,bY as f,bZ as Ka,bU as B,b_ as wa,b$ as Fa,h as ea,c0 as z,aG as S,c1 as ga,c7 as aa,c2 as Q,ck as Ia,c3 as qa,b8 as La,c4 as Ca,c5 as Ra,c6 as Ba,w as da,x as oa,p as G,q as j,c8 as W,cm as ba,T as _a,a as Ma,bV as za,bW as Ua,bX as Wa,cn as H,u as Va,ca as Ha,c9 as Ga,cc as Oa,cd as $a,cb as Ja}from"./index-1205c25f.js";import{A as Ya,p as Za,S as Xa}from"./image 34-1d1c55d7.js";import{c as Qa}from"./coupon-42650ed8.js";import{J as ae,T as pa}from"./master-802def31.js";import{F as N}from"./AutoComplete-27dc5bf6.js";import{a as ma,p as Na,b as ee,c as ne,g as xa,F as O,s as ie,d as ca,r as re,R as g,e as te,f as se,L as le,S as oe}from"./Banner-63305c10.js";import{t as ua,g as $,r as L,a as de}from"./random-379983e1.js";import{f as F}from"./changeTimeIndo-f11d9ea6.js";import{p as J}from"./fileValidation-c17bae19.js";import{C as he}from"./CustomStepConnector-aa249293.js";import{D as pe}from"./Drafts-646cb459.js";import{M as me}from"./MessageBox-20683b0c.js";import"./DialogActions-4f943394.js";import"./Card-9ea032c2.js";import"./CardContent-ef5ecefa.js";function ue(){const[n,t]=c.useState(!1),[e,l]=c.useState(1),o=()=>{t(!0),l(1)},h=()=>{t(!1),l(1)},u=[{label:"Pewarganegaraan berdasarkan perkawinan campuran",value:"Pewarganegaraan berdasarkan perkawinan campuran"}],m=fa({enableReinitialize:!0,initialValues:{jumlahPembelian:1,subLayanan:""},validationSchema:Qa,onSubmit:s=>{l(2)}}),d=()=>e===1?a.jsx(ja,{onSubmit:m.handleSubmit,children:a.jsxs(_,{children:[a.jsx(i,{xs:"12",children:a.jsx(f,{formik:m,name:"jumlahPembelian",placeholder:"Tulis jumlah pembelian",required:!0,type:"number",readonly:!0})}),a.jsx(i,{xs:"12",children:a.jsx(Ka,{formik:m,name:"subLayanan",placeholder:"Pilih sub layanan jasa hukum",options:u,required:!0})})]})}):e===2?a.jsx(ja,{children:a.jsx(_,{children:a.jsx(i,{xs:"12",children:a.jsxs("div",{children:[a.jsx("img",{src:Za,alt:"Panduan Pembayaran",style:{maxWidth:"100%",margin:"16px 0"}}),a.jsx(B,{onClick:m.handleSubmit,text:"Download",leftIcon:a.jsx(Xa,{}),textColor:"#041662",bgColor:"transparent",border:"1px solid #E7E7E7",hoverColor:"#041992"}),a.jsx("p",{style:{color:"#6D6D6D",fontFamily:"Poppins",fontWeight:400,fontSize:"14px"},children:'Apabila telah melakukan pembayaran tetapi status pembayaran "belum bayar", Anda dapat melakukan konfirmasi pembayaran pada menu konfirmasi pembayaran.'}),a.jsx("p",{style:{color:"#6D6D6D",fontFamily:"Poppins",fontWeight:400,fontSize:"14px"},children:"Apabila masih terdapat kendala terkait pembayaran PNBP, Anda dapat melakukan konsultasi pada menu Konsultasi Pembayaran."}),a.jsx("p",{style:{color:"#6D6D6D",fontFamily:"Poppins",fontWeight:400,fontSize:"14px"},children:"Untuk panduan cara pembayaran dapat diakses pada link berikut."})]})})})}):null,r=()=>{if(e===1)return a.jsxs(a.Fragment,{children:[a.jsx(B,{text:"Kembali",onClick:h,textColor:"#041662",bgColor:"transparent",border:"1px solid #E7E7E7"}),a.jsx(B,{text:"Selanjutnya",rightIcon:a.jsx(wa,{}),onClick:m.handleSubmit,bgColor:"#041662",textColor:"#fff",hoverColor:"#041992"})]});if(e===2)return a.jsxs(a.Fragment,{children:[a.jsx(B,{text:"Sebelumnya",onClick:()=>l(1),textColor:"#041662",bgColor:"transparent",border:"1px solid #E7E7E7",hoverColor:"#041992"}),a.jsx(B,{onClick:()=>h(),text:"Selanjutnya",rightIcon:a.jsx(Fa,{})})]})};return a.jsxs(a.Fragment,{children:[a.jsx(Da,{style:{textDecoration:"underline",color:"#041662",fontWeight:500,fontSize:"14px",fontFamily:"Poppins",textTransform:"initial"},onClick:o,children:"Beli Voucher di SIMPADHU"}),a.jsx(Ya,{open:n,onClose:h,title:"Pembelian Voucher",description:e===1?"Silahkan pilih layanan yang anda inginkan":"Berikut adalah bukti pemesanan voucher anda",actions:r(),children:d()})]})}const ce=({formik:n,setActiveStep:t,label:e})=>{c.useState("");const[l,o]=c.useState(!1),h=()=>{o(!0),!n.errors.voucher&&n.values.voucher?setTimeout(()=>{o(!1),t(u=>u+1)},2e3):(o(!1),n.setFieldTouched("voucher",!0))};return a.jsx("div",{className:"page-content d-flex justify-content-center align-items-center px-2 mb-3",style:{fontFamily:"Poppins"},children:a.jsxs("div",{className:"d-flex flex-column w-100",style:{maxWidth:800},children:[a.jsx(_,{className:"justify-content-center mb-2",children:a.jsxs(i,{lg:"10",children:[a.jsx("h4",{style:{color:"#041662",fontWeight:500,fontSize:"28px",lineHeight:"52px"},children:"Permohonan Pernyataan Memilih Kewarganegaraan RI bagi Anak Berkewarganegaraan Ganda"}),a.jsx("hr",{})]})}),a.jsx(_,{className:"justify-content-center mb-2",children:a.jsx(i,{lg:"10",children:a.jsx("p",{style:{color:"#5D5D5D",fontSize:"14px",fontWeight:500,lineHeight:"26px"},children:"Anda akan memulai proses permohonan pernyataan memilih kewarganegaraan RI bagi anak berkewarganegaraan ganda. Pastikan Anda telah menyiapkan dokumen dan informasi yang dibutuhkan sebelum melanjutkan."})})}),a.jsx(_,{className:"justify-content-center mb-2",children:a.jsxs(i,{lg:"10",children:[a.jsx("p",{style:{color:"#5D5D5D",fontSize:"14px",lineHeight:"26px",fontWeight:500},children:"Untuk melanjutkan, Anda perlu memasukkan kode voucher pendaftaran terlebih dahulu."}),a.jsx(f,{formik:n,type:"text",name:"voucher",placeholder:"Tulis Kode Voucher Anda Di Sini",className:"mt-2 form-field-input"})]})}),a.jsx(_,{className:"justify-content-center",children:a.jsxs(i,{lg:"10",children:[a.jsx("p",{style:{color:"#5D5D5D",fontSize:"14px",lineHeight:"26px",fontWeight:500},children:"Jika Anda belum memiliki kode voucher, silakan melakukan pembelian melalui layanan SIMPADHU pada tautan berikut:"}),a.jsx(ue,{})]})}),a.jsx(_,{className:"justify-content-center",children:a.jsx(i,{lg:"10",children:a.jsx(B,{bgColor:"#041662",textColor:"#fff",hoverColor:"#041992",text:"Mulai Pendaftaran",rightIcon:a.jsx(wa,{}),onClick:h,loading:l})})})]})})},ge=({formik:n})=>{const{values:t,setFieldValue:e}=n,{negara:l,provinsi:o,statusKawin:h,pekerjaan:u}=ea(k=>k.master),m=t.tempat_lahir_pemohon==="Dalam Negeri",d=t.tempat_lahir_pemohon==="Luar Negeri",[r,s]=c.useState(!1),[p,x]=c.useState([]),b=async k=>{s(!0);try{const T=await ma(k),P=ua(T.data);x(P)}catch(T){aa("Terjadi kesalahan",T.message)}finally{s(!1)}};return c.useEffect(()=>{t.tempat_lahir_pemohon==="Luar Negeri"?(e("id_provinsi_lahir_pemohon",""),e("id_kab_kota_lahir_pemohon","")):t.tempat_lahir_pemohon==="Dalam Negeri"&&e("id_negara_lahir_pemohon","")},[t.tempat_lahir_pemohon,e]),c.useEffect(()=>{t.id_provinsi_lahir_pemohon&&b(t.id_provinsi_lahir_pemohon)},[t.id_provinsi_lahir_pemohon,e]),a.jsxs(a.Fragment,{children:[a.jsx(z,{title:"Informasi Anak"}),a.jsxs(S,{className:"form-horizontal",children:[a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"nama_lengkap_pemohon",placeholder:"Tulis nama lengkap",title:"Nama Lengkap",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"nik_pemohon",placeholder:"Tulis NIK/NIT",title:"Nomor Induk Kependudukan/Tunggal",type:"number",required:!0})}),a.jsx(i,{xs:"12",sm:"12",md:"6",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"no_hp_pemohon",title:"Nomor HP (Diikuti Kode Negara)",placeholder:"62 ...",leftIcon:a.jsx(ga,{size:12}),required:!0,type:"number"})}),a.jsx(i,{xs:"12",sm:"12",md:"6",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"no_telp_pemohon",title:"Nomor Telepon Rumah",placeholder:"Tulis nomor telepon",type:"text"})})]}),a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"jenis_kelamin_pemohon",placeholder:"Jenis Kelamin",options:ae,title:"Jenis Kelamin",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"status_kawin_pemohon",placeholder:"status perkawinan",options:h.data,title:"Status Perkawinan ",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"email_pemohon",placeholder:"Tulis alamat email aktif",title:"Email",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_pekerjaan_pemohon",placeholder:"pekerjaan saat ini",options:u.data,title:"Pekerjaan",required:!0})})]}),a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"tempat_lahir_pemohon",placeholder:"Tempat lahir",options:pa,title:"Tempat Lahir",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"tgl_lahir_pemohon",type:"date",placeholder:"Tanggal Lahir",title:"Tanggal Lahir",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_kwn_pemohon",title:"Kewarganegaraan Kelahiran",options:[{label:"Indonesia",value:76}],placeholder:"Indonesia",required:!0,isDisabled:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_kwn_asing_pemohon",placeholder:"kewarganegaraan asing",options:l.data,title:"Kewarganegaraan Asing",required:!0})})]}),a.jsxs(_,{children:[m&&a.jsxs(a.Fragment,{children:[a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_provinsi_lahir_pemohon",title:"Provinsi Kelahiran",options:o.data,placeholder:"Pilih provinsi kelahiran",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_kab_kota_lahir_pemohon",title:"Kab/Kota kelahiran",options:p,placeholder:"Pilih kota/Kab kelahiran",isDisabled:r||!t.id_provinsi_lahir_pemohon,required:!0})})]}),d&&a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"6",children:a.jsx(N,{formik:n,name:"id_negara_lahir_pemohon",placeholder:"Masukkan Negara Kelahiran",options:l.data,title:"Negara Kelahiran",required:!0})})]})]})]})},_e=({formik:n})=>{const{negara:t,provinsi:e}=ea(x=>x.master),{values:l,setFieldValue:o}=n,h=l.tempat_tinggal_pemohon==="Dalam Negeri",u=l.tempat_tinggal_pemohon==="Luar Negeri",[m,d]=c.useState(!1),[r,s]=c.useState([]),p=async x=>{d(!0);try{const b=await ma(x),k=ua(b.data);s(k)}catch(b){warningMsg("Terjadi kesalahan",b.message)}finally{d(!1)}};return c.useEffect(()=>{l.tempat_tinggal_pemohon==="Dalam Negeri"?o("id_negara_tinggal_pemohon",""):l.tempat_tinggal_pemohon==="Luar Negeri"&&(o("id_prov_tinggal_pemohon",""),o("id_kab_kota_tinggal_pemohon",""))},[l.tempat_tinggal_pemohon,o]),c.useEffect(()=>{l.id_prov_tinggal_pemohon&&p(l.id_prov_tinggal_pemohon)},[l.id_prov_tinggal_pemohon,o]),a.jsxs(a.Fragment,{children:[a.jsx(z,{title:"Data Alamat"}),a.jsxs(S,{className:"form-horizontal",children:[a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"tempat_tinggal_pemohon",title:"Tempat tinggal",placeholder:"tempat tinggal",options:pa,required:!0})}),u&&a.jsx(i,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_negara_tinggal_pemohon",title:"Negara Tinggal",placeholder:"negara tinggal",options:t.data,required:!0,disabled:h})}),h&&a.jsxs(a.Fragment,{children:[a.jsx(i,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_prov_tinggal_pemohon",title:"Provinsi Tinggal",placeholder:"provinsi domisili",options:e.data,disabled:!h,required:!0})}),a.jsx(i,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_kab_kota_tinggal_pemohon",title:"Kabupaten/Kota Tinggal",placeholder:"kabupaten/kota domisili",options:r,disabled:!h,required:!0})})]})]}),a.jsx(_,{children:a.jsx(i,{xs:"12",md:"12",lg:"12",xl:"12",children:a.jsx(f,{formik:n,name:"alamat_tinggal_pemohon",placeholder:"Tulis alamat lengkap domisili saat ini",title:"Alamat tinggal",type:"textarea",maxLength:"255",required:!0})})})]})]})},xe=({formik:n})=>{const{provinsi:t,negara:e}=ea(l=>l.master);return a.jsxs(a.Fragment,{children:[a.jsx(z,{title:"Dokumen Perjalanan"}),a.jsxs(S,{className:"form-horizontal",children:[a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",lg:"6",xl:"4",children:a.jsx(f,{formik:n,title:"Nomor Paspor RI",name:"no_paspor_ri_pemohon",placeholder:"Tulis nomor paspor",required:!0})}),a.jsx(i,{xs:"12",md:"6",lg:"6",xl:"4",children:a.jsx(N,{formik:n,title:"Wilayah Terbit Paspor RI",name:"id_wilayah_paspor_ri_pemohon",placeholder:"Tulis lokasi terbit paspor RI",options:t.data,isDisabled:t.data.length===0,required:!0})}),a.jsx(i,{xs:"12",md:"6",lg:"6",xl:"4",children:a.jsx(f,{formik:n,title:"Tanggal Kedaluwarsa Paspor",name:"tgl_exp_paspor_ri_pemohon",placeholder:"Masukkan tanggal kedaluwarsa paspor RI",type:"date",required:!0})})]}),a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",lg:"6",xl:"4",children:a.jsx(f,{formik:n,title:"Nomor Paspor Kebangsaan",name:"no_paspor_kebangsaan_pemohon",placeholder:"Tulis nomor paspor",required:!0})}),a.jsx(i,{xs:"12",md:"6",lg:"6",xl:"4",children:a.jsx(N,{formik:n,title:"Wilayah Terbit Paspor Kebangsaan",name:"id_negara_paspor_kebangsaan_pemohon",placeholder:"Tulis lokasi terbit paspor RI",options:e.data,isDisabled:e.data.length===0,required:!0})}),a.jsx(i,{xs:"12",md:"6",lg:"6",xl:"4",children:a.jsx(f,{formik:n,title:"Tanggal Kedaluwarsa Paspor Kebangsaan",name:"tgl_exp_paspor_kebangsaan_pemohon",placeholder:"Masukkan tanggal kedaluwarsa paspor RI",type:"date",required:!0})})]})]})]})},ke=({formik:n})=>a.jsxs(S,{className:"mt-3 mb-3",sx:{border:"1px solid #E7E7E7",borderRadius:5,padding:"24px"},children:[a.jsx(ge,{formik:n}),a.jsx(Q,{}),a.jsx(_e,{formik:n}),a.jsx(Q,{}),a.jsxs(a.Fragment,{children:[a.jsx(z,{title:"Dokumen Kelahiran"}),a.jsx(S,{className:"form-horizontal",children:a.jsxs(_,{children:[a.jsx(i,{xs:"12",sm:"12",md:"6",lg:"6",xl:"6",children:a.jsx(f,{formik:n,name:"no_akta_lahir_pemohon",title:"Nomor akta/Bukti kelahiran",placeholder:"Tulis nomor akta",required:!0})}),a.jsx(i,{xs:"12",sm:"12",md:"6",lg:"6",xl:"6",children:a.jsx(f,{formik:n,name:"tgl_akta_lahir_pemohon",title:"Tanggal akta/Bukti kelahiran",placeholder:"Masukkan tanggal akta",type:"date",required:!0})})]})})]}),a.jsxs(a.Fragment,{children:[a.jsx(z,{title:"Dokumen Perkawinan Orang Tua"}),a.jsx(S,{className:"form-horizontal",children:a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",lg:"6",xl:"6",children:a.jsx(f,{formik:n,title:"Nomor Akta Perkawinan / Buku Nikah / Laporan Kawin",name:"no_akta_kawin_ortu_pemohon",placeholder:"Tulis nomor akta nikah",required:!0})}),a.jsx(i,{xs:"12",md:"6",lg:"6",xl:"6",children:a.jsx(f,{formik:n,title:"Tanggal Akta Perkawinan / Buku Nikah",name:"tgl_akta_kawin_ortu_pemohon",placeholder:"Masukkan Tanggal Akta Perkawinan / Buku Nikah",type:"date",required:!0})})]})}),a.jsx(Q,{}),a.jsx(xe,{formik:n}),a.jsx(Q,{}),a.jsxs(a.Fragment,{children:[a.jsx(z,{title:"Dokumen Keimigrasian"}),a.jsx(S,{className:"form-horizontal",children:a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",lg:"6",xl:"6",children:a.jsx(f,{formik:n,title:"Nomor SK WNI / Fasilitas Keimigrasian / Surat AHU",name:"no_dok_keimigrasian_pemohon",placeholder:"Tulis nomor SK WNI",required:!0})}),a.jsx(i,{xs:"12",md:"6",lg:"6",xl:"6",children:a.jsx(f,{formik:n,title:"Tanggal SK WNI / Fasilitas Keimigrasian / Surat AHU",name:"tgl_dok_keimigrasian_pemohon",placeholder:"Masukkan Tanggal SK WNI",type:"date",required:!0})})]})})]})]})]}),je=({formik:n})=>{const{setFieldValue:t,values:e}=n,{statusKawin:l,negara:o,provinsi:h}=ea(b=>b.master),u=e.tempat_lahir_ayah==="Dalam Negeri",m=e.tempat_lahir_ayah==="Luar Negeri",[d,r]=c.useState(!1),[s,p]=c.useState([]),x=async b=>{r(!0);try{const k=await ma(b),T=ua(k.data);p(T)}catch(k){warningMsg("Terjadi kesalahan",k.message)}finally{r(!1)}};return c.useEffect(()=>{e.tempat_lahir_ayah==="Dalam Negeri"?t("id_negara_lahir_ayah",""):e.tempat_lahir_ayah==="Luar Negeri"&&(t("id_provinsi_lahir_ayah",""),t("id_kab_kota_lahir_ayah",""))},[e.tempat_lahir_ayah,t]),c.useEffect(()=>{e.id_provinsi_lahir_ayah&&x(e.id_provinsi_lahir_ayah)},[e.id_provinsi_lahir_ayah,t]),a.jsxs(a.Fragment,{children:[a.jsx(z,{title:"Informasi Data Ayah"}),a.jsxs(S,{className:"form-horizontal",children:[a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"nama_lengkap_ayah",placeholder:"Tulis nama lengkap",title:"Nama Lengkap",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"status_kawin_ayah",placeholder:"status perkawinan",options:l.data,title:"Status Perkawinan ",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"email_ayah",placeholder:"Tulis alamat email aktif",title:"Email",required:!0})}),a.jsx(i,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"nomor_hp_ayah",title:"Nomor HP (Diikuti Kode Negara)",placeholder:"62 ...",type:"number",leftIcon:a.jsx(ga,{size:12}),required:!0})})]}),a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"6",children:a.jsx(N,{formik:n,name:"id_kwn_asal_ayah",placeholder:"kewarganegaraan",options:o.data,title:"Kewarganegaraan Asal",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"6",children:a.jsx(f,{formik:n,name:"alamat_tinggal_ayah",placeholder:"Tulis alamat lengkap domisili saat ini",title:"Alamat tinggal",type:"textarea",required:!0})})]}),a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"tempat_lahir_ayah",placeholder:"Masukkan tempat lahir",options:pa,title:"Tempat Lahir",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"tgl_lahir_ayah",type:"date",placeholder:"Tanggal Lahir",title:"Tanggal Lahir",required:!0})}),u&&a.jsxs(a.Fragment,{children:[a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_provinsi_lahir_ayah",placeholder:"Masukkan tempat lahir",options:h.data,title:"Provinsi Tempat Lahir",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_kab_kota_lahir_ayah",placeholder:"Masukkan tempat lahir",options:s,title:"Kab/Kota Tempat Lahir",isDisabled:s.length<1,required:!0})})]}),m&&a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_negara_lahir_ayah",placeholder:"Masukkan tempat lahir",options:o.data,title:"Negara Tempat Lahir",required:!0})})]})]})]})},be=({formik:n})=>{const{setFieldValue:t,values:e}=n,{statusKawin:l,negara:o,provinsi:h}=ea(b=>b.master),u=e.tempat_lahir_ibu==="Dalam Negeri",m=e.tempat_lahir_ibu==="Luar Negeri",[d,r]=c.useState(!1),[s,p]=c.useState([]),x=async b=>{r(!0);try{const k=await ma(b),T=ua(k.data);p(T)}catch(k){warningMsg("Terjadi kesalahan",k.message)}finally{r(!1)}};return c.useEffect(()=>{e.tempat_lahir_ibu==="Dalam Negeri"?t("id_negara_lahir_ibu",""):e.tempat_lahir_ibu==="Luar Negeri"&&(t("id_provinsi_lahir_ibu",""),t("id_kab_kota_lahir_ibu",""))},[e.tempat_lahir_ibu,t]),c.useEffect(()=>{e.id_provinsi_lahir_ibu&&x(e.id_provinsi_lahir_ibu)},[e.id_provinsi_lahir_ibu,t]),a.jsxs(a.Fragment,{children:[a.jsx(z,{title:"Informasi Data Ibu"}),a.jsxs(S,{className:"form-horizontal",children:[a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"nama_lengkap_ibu",placeholder:"Tulis nama lengkap",title:"Nama Lengkap",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"status_kawin_ibu",placeholder:"status perkawinan",options:l.data,title:"Status Perkawinan ",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"email_ibu",placeholder:"Tulis alamat email aktif",title:"Email",required:!0})}),a.jsx(i,{xs:"12",sm:"12",md:"12",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"nomor_hp_ibu",title:"Nomor HP (Diikuti Kode Negara)",placeholder:"62 ...",type:"number",leftIcon:a.jsx(ga,{size:12}),required:!0})})]}),a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"6",children:a.jsx(N,{formik:n,name:"id_kwn_asal_ibu",placeholder:"kewarganegaraan Asal",options:o.data,title:"Kewarganegaraan Asal",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"6",children:a.jsx(f,{formik:n,name:"alamat_tinggal_ibu",placeholder:"Tulis alamat lengkap domisili saat ini",title:"Alamat tinggal",type:"textarea",required:!0})})]}),a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"tempat_lahir_ibu",placeholder:"Masukkan tempat lahir",options:pa,title:"Tempat Lahir",required:!0})}),u&&a.jsxs(a.Fragment,{children:[a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_provinsi_lahir_ibu",placeholder:"Provinsi Tempat lahir",options:h.data,title:"Provinsi Lahir",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_kab_kota_lahir_ibu",placeholder:"Kab/Kota Tempat lahir",options:s,title:"Kab/Kota Lahir",isDisabled:s.length<1,required:!0})})]}),m&&a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(N,{formik:n,name:"id_negara_lahir_ibu",placeholder:"Negara Tempat lahir",options:o.data,title:"Negara Kelahiran",required:!0})}),a.jsx(i,{xs:"12",md:"12",lg:"6",xl:"3",children:a.jsx(f,{formik:n,name:"tgl_lahir_ibu",type:"date",placeholder:"Tanggal Lahir",title:"Tanggal Lahir",required:!0})})]})]})]})},ye=({formik:n})=>a.jsx(a.Fragment,{children:a.jsxs(S,{className:"mt-3 mb-3",sx:{border:"1px solid #E7E7E7",borderRadius:5,padding:"24px"},children:[a.jsx(je,{formik:n}),a.jsx(Q,{}),a.jsx(be,{formik:n})]})});function fe({formik:n}){const t=c.useRef(null),{values:e}=n;console.log("FOR SURAT",e);const l=e.tempat_lahir_pemohon==="Dalam Negeri";e.tempat_lahir_pemohon;const o=l?e.provinsi_lahir_pemohon_text:e.negara_lahir_pemohon_text,h=async()=>{if(t.current){const u=await Ca(t.current,{scale:2}),m=u.toDataURL("image/png"),d=new Ra("p","mm","a4"),r=d.internal.pageSize.getWidth(),s=d.internal.pageSize.getHeight(),p=r,x=u.height*r/u.width;let b=x,k=0;for(d.addImage(m,"PNG",0,k,p,x),b-=s;b>0;)k=b-x,d.addPage(),d.addImage(m,"PNG",0,k,p,x),b-=s;d.save("Surat-pernyataan.pdf")}};return a.jsx("div",{className:"mt-5 mb-3 px-2",children:a.jsx("div",{style:{border:"1px solid #E7E7E7",borderRadius:20,padding:16},children:a.jsx("div",{className:"row",children:a.jsxs("div",{className:"col",children:[a.jsx("div",{style:{border:"1px solid #e0e0e0",borderRadius:8,marginBottom:24,maxWidth:890,margin:"0 auto"},children:a.jsxs("div",{ref:t,style:{padding:50,fontFamily:"Times New Roman",fontSize:12,lineHeight:1.6},children:[a.jsx("div",{style:{textAlign:"center",fontSize:16,fontWeight:600,letterSpacing:.5,textTransform:"uppercase",marginBottom:30},children:"FORMULIR PERNYATAAN PERMOHONAN PENYAMPAIAN PERNYATAAN MEMILIH KEWARGANEGARAAN REPUBLIK INDONESIA BAGI ANAK BERKEWARGANEGARAAN GANDA"}),a.jsx("div",{style:{marginTop:20},children:a.jsx("table",{style:{fontSize:12,width:"100%"},children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{style:{width:"15%"},children:"Lampiran"}),a.jsx("td",{style:{width:"5%"},children:":"}),a.jsx("td",{children:a.jsx("div",{style:{minWidth:200,height:22},children:"1 (satu) Berkas"})})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{width:"15%"},children:"Perihal"}),a.jsx("td",{style:{width:"5%"},children:":"}),a.jsx("td",{children:a.jsx("div",{style:{minWidth:200,height:22},children:"Pernyataan Permohonan Penyampaian Pernyataan Memilih Kewarganegaraan Republik Indonesia Bagi Anak Berkewarganegaraan Ganda"})})]})]})})}),a.jsxs("div",{style:{fontSize:12,marginTop:30,lineHeight:1.6},children:[a.jsx("div",{style:{marginBottom:20},children:"Merujuk pada Pasal 5 Undang-Undang Nomor 12 Tahun 2006 tentang Kewarganegaraan Republik Indonesia Juncto Pasal 49 Peraturan Pemerintah Nomor 2 Tahun 2007 tentang Tata Cara Memperoleh, Kehilangan, Pembatalan, dan Memperoleh kembali Kewarganegaraan Republik Indonesia, bersama ini dengan hormat saya :"}),a.jsx("table",{style:{width:"100%",marginTop:20,marginBottom:30},children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{style:{width:"25%",verticalAlign:"top"},children:"Nama"}),a.jsx("td",{style:{width:"3%"},children:":"}),a.jsx("td",{children:e.nama_lengkap_pemohon})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Jenis Kelamin"}),a.jsx("td",{children:":"}),a.jsx("td",{children:e.jenis_kelamin_pemohon})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Tempat/Tanggal Lahir"}),a.jsx("td",{children:":"}),a.jsxs("td",{children:[o||e.id_negara_lahir_pemohon,","," ",F(e.tgl_lahir_pemohon)]})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Kewarganegaraan"}),a.jsx("td",{children:":"}),a.jsxs("td",{children:[e.kwn_pemohon_text," &"," ",e.kwn_asing_pemohon_text]})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Pekerjaan"}),a.jsx("td",{children:":"}),a.jsx("td",{children:"Pelajar"})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Alamat Tempat Tinggal"}),a.jsx("td",{children:":"}),a.jsxs("td",{children:[a.jsx("div",{children:e.alamat_tinggal_pemohon}),a.jsxs("div",{style:{marginLeft:20,marginTop:10},children:[a.jsx("div",{children:"1. Paspor Republik Indonesia :"}),a.jsxs("div",{style:{marginLeft:20},children:[a.jsxs("div",{children:["- nomor : ",e.no_paspor_ri_pemohon]}),a.jsxs("div",{children:["- dikeluarkan di :"," ",e.wilayah_paspor_ri_pemohon_text]}),a.jsxs("div",{children:["- berlaku sampai dengan :"," ",F(e.tgl_exp_paspor_ri_pemohon)]})]}),a.jsx("div",{children:"2. Paspor Kebangsaan :"}),a.jsxs("div",{style:{marginLeft:20},children:[a.jsxs("div",{children:["- nomor : ",e.no_paspor_kebangsaan_pemohon]}),a.jsxs("div",{children:["- dikeluarkan di :"," ",e.negara_paspor_kebangsaan_pemohon_text]}),a.jsxs("div",{children:["- berlaku sampai dengan :"," ",F(e.tgl_exp_paspor_kebangsaan_pemohon)]})]})]})]})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Nomor Surat WNI/Surat Asal"}),a.jsx("td",{children:":"}),a.jsx("td",{children:a.jsxs("div",{children:["Nomor ",e.no_dok_keimigrasian_pemohon," ","diterbitkan tanggal"," ",F(e.tgl_dok_keimigrasian_pemohon)]})})]}),a.jsxs("tr",{children:[a.jsx("td",{style:{verticalAlign:"top"},children:"Orang Tua"}),a.jsx("td",{children:":"}),a.jsxs("td",{children:[a.jsx("div",{children:"1. Ayah :"}),a.jsxs("div",{style:{marginLeft:20},children:[a.jsxs("div",{children:["- nama : ",e.nama_lengkap_ayah]}),a.jsxs("div",{children:["- kewarganegaraan : ",e.kwn_asal_ayah_text]})]}),a.jsx("div",{children:"2. Ibu :"}),a.jsxs("div",{style:{marginLeft:20},children:[a.jsxs("div",{children:["- nama : ",e.nama_lengkap_ibu]}),a.jsxs("div",{children:["- kewarganegaraan : ",e.kwn_asal_ibu_text]})]})]})]})]})}),a.jsx("div",{style:{marginBottom:20},children:"Dengan ini menyampaikan pernyataan untuk Permohonan Penyampaian Pernyataan Memilih Kewarganegaraan Republik Indonesia Bagi Anak Berkewarganegaraan Ganda."}),a.jsx("div",{style:{marginBottom:20},children:"Saya menyadari sepenuhnya konsekuensi akibat hukum dengan penyampaian Pernyataan Permohonan Penyampaian Pernyataan Memilih Kewarganegaraan Republik Indonesia Bagi Anak Berkewarganegaraan Ganda, dan akan tunduk pada ketentuan peraturan perundang-undangan."}),a.jsx("div",{style:{marginBottom:30},children:"Demikian penyampaian Permohonan Penyampaian Pernyataan Memilih Kewarganegaraan Republik Indonesia Bagi Anak Berkewarganegaraan Ganda ini disampaikan, atas perhatiannya diucapkan terima kasih."}),a.jsx("div",{style:{marginTop:50,display:"flex",justifyContent:"flex-end"},children:a.jsxs("div",{children:[a.jsx("div",{style:{textAlign:"center",marginBottom:10},children:"Yang menyampaikan pernyataan,"}),a.jsx("div",{style:{height:60}}),a.jsx("div",{style:{textAlign:"center",fontSize:12,fontWeight:"bold"},children:e.nama_lengkap_pemohon})]})})]})]})}),a.jsxs("div",{style:{border:"none",marginBottom:24,maxWidth:890,margin:"0 auto"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 32px",marginBottom:"32px",marginTop:"32px"},children:[a.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:a.jsx(Ia,{fontSize:"0.95rem",label:`Pastikan pengisian data yang telah anda isi sudah benar dan
                    lengkap`,value:"1",fieldName:"suratPermohonan",formik:n})}),a.jsx(B,{text:"Download",leftIcon:a.jsx(qa,{}),textColor:"#041662",bgColor:"transparent",border:"1px solid #E7E7E7",onClick:h})]}),a.jsx(S,{sx:{background:"#FAD9AE",color:"#454545",borderRadius:4,padding:5,fontSize:14},children:a.jsxs(La,{component:"div",sx:{fontSize:14},children:["Semua dokumen yang perlu untuk dilegalisir harus dilakukan sebelum Anda mendaftar secara online. Verifikator tidak akan menerima dokumen legalisir yang dilakukan setelah Anda mendaftar online.",a.jsx("br",{}),a.jsx("br",{}),"Anda harus mengirimkan dokumen-dokumen di atas beserta dokumen yang Anda cetak dan tanda tangani kepada: Subdirektorat Notariat, Direktorat Perdata, Direktorat Jenderal Administrasi Hukum Umum, Kementerian Hukum dan HAM RI, EX Gedung Sentra Mulia, Jl. HR. Rasuna Said Kav x-6/8 Lantai 3 dan 6, Kuningan, Jakarta Selatan, Kode Pos 12940. Selambat-lambatnya 7 hari setelah Anda memasukkan permohonan ini."]})})]})]})})})})}const na={getPermohonanDetail:"/kewarganegaraan/permohonan-wn-ganda",postPermohonan:"/kewarganegaraan/permohonan-wn-ganda",patchPermohonan:"/kewarganegaraan/permohonan-wn-ganda",uploadFile:"/kewarganegaraan/permohonan-wn-ganda/upload"},we=n=>Ba(`${na.getPermohonanDetail}/${n}`),Ne=n=>ee(na.postPermohonan,n),Pe=n=>Na(na.patchPermohonan,n),Se=n=>ne(na.uploadFile,n),ve=n=>Na(na.patchPermohonan,n),V={kutipanAktaKelahiran:1,kutipanAktaPerkawinan:2,pasporRepublik:3,ktp:4,keputusanMenteri:5,pasFoto:6},Te=Object.fromEntries(Object.entries(V).map(([n,t])=>[t,n])),Ae=({formik:n})=>{const t=xa("anakwnganda"),e=n.values.files||[];console.log("FILES ===>",n.values.files),console.log("=== START SYNC FILES ==="),c.useEffect(()=>{if(!Array.isArray(e)||e.length===0){console.log("üì≠ files is not ready or empty:",e);return}e.forEach(h=>{if(!h||typeof h.file_type>"u"){console.warn("‚ö†Ô∏è Invalid file object:",h);return}const u=Te[h.file_type];if(console.log("SYNC FIELDNAME",u),u){const m=n.values[u];(!m||m!==h)&&(console.log(`‚úÖ Updating ${u} with file data`),n.setFieldValue(u,h))}else console.warn(`‚ùå No field mapping found for file_type: ${h.file_type}`)}),console.log("=== END SYNC FILES ===")},[e,n]);const o={uploadFnc:async(h,u)=>{var d;if(!t){const r="ID Permohonan tidak ditemukan. Silakan simpan draft terlebih dahulu.";throw aa(r),new Error(r)}const m=V[u];if(!m){const r=`Tipe dokumen tidak valid untuk field: ${u}`;throw aa(r),new Error(r)}if(!h){const r="File tidak valid";throw aa(r),new Error(r)}try{const r=new FormData;r.append("file",h),r.append("id_permohonan",t),r.append("file_type",m),console.log(`üöÄ Uploading file: ${h.name} for field: ${u} (type: ${m})`);const s=await Se(r);if(console.log("‚úÖ Upload response:",s.data),s.message==="Success"&&s.data){const p=s.data;console.log("üìù Updating formik with uploaded file data:",p);const x=[...e.filter(b=>b.file_type!==m),p];return n.setFieldValue("files",x),n.setFieldValue(u,p),n.setFieldError(u,void 0),console.log("‚úÖ Successfully updated formik:",{fieldName:u,uploadedFileData:p,updatedFilesCount:x.length}),da(`Dokumen ${u} berhasil diunggah`),p}else throw new Error(((d=s.data)==null?void 0:d.message)||"Upload response format tidak valid")}catch(r){console.error("‚ùå Upload error:",r);let s="Gagal mengunggah dokumen";if(r.code==="ECONNABORTED")s="Upload timeout. Periksa koneksi internet dan coba lagi.";else if(r.response){const p=r.response.status,x=r.response.data;switch(p){case 400:s=(x==null?void 0:x.message)||"Request tidak valid";break;case 401:s="Unauthorized. Silakan login ulang.";break;case 413:s="File terlalu besar";break;case 415:s="Tipe file tidak didukung";break;case 500:s="Server error. Silakan coba lagi nanti.";break;default:s=(x==null?void 0:x.message)||`Server error: ${p}`}}else r.request&&(s="Gagal terhubung ke server. Periksa koneksi internet.");throw oa(s),new Error(s)}}};return a.jsxs(S,{className:"mt-3 mb-3",sx:{border:"1px solid #E7E7E7",borderRadius:5,padding:"24px"},children:[a.jsx(z,{title:"Upload Dokumen"}),a.jsxs(_,{children:[a.jsx(i,{lg:"12",xl:"12",children:a.jsx(O,{formik:n,name:"kutipanAktaKelahiran",label:"Kutipan akta kelahiran pemohon yang telah disahkan oleh Pejabat atau Perwakilan Republik Indonesia",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:$(e,V.kutipanAktaKelahiran),required:!0,...o})}),a.jsx(i,{lg:"12",xl:"12",children:a.jsx(O,{formik:n,name:"kutipanAktaPerkawinan",label:"Kutipan akta perkawinan atau buku nikah pemohon yang telah disahkan oleh Pejabat atau Perwakilan Republik Indonesia",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:$(e,V.kutipanAktaPerkawinan),required:!0,...o})}),a.jsx(i,{lg:"12",xl:"12",children:a.jsx(O,{formik:n,name:"pasporRepublik",label:"Paspor Republik Indonesia, surat sejenis paspor, atau dokumen lain yang membuktikan bahwa pemohon pernah menjadi WNI",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:$(e,V.pasporRepublik),required:!0,...o})}),a.jsx(i,{lg:"12",xl:"12",children:a.jsx(O,{formik:n,name:"ktp",label:"Kartu Tanda Penduduk (KTP) atau surat penerbitan Nomor Identitas Tunggal (NIT)",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:$(e,V.ktp),required:!0,...o})}),a.jsx(i,{lg:"12",xl:"12",children:a.jsx(O,{formik:n,name:"keputusanMenteri",label:"Surat pernyataan penolakan menjadi warga negara asing, dibuat di atas kertas bermaterai yang telah disetujui oleh perwakilan negara asing yang berwenang.",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:$(e,V.keputusanMenteri),required:!0,...o})}),a.jsx(i,{lg:"12",xl:"12",children:a.jsx(O,{formik:n,name:"pasFoto",label:"Pas foto terbaru ukuran 4x6 cm, berwarna, latar belakang merah, berpakaian rapi dan sopan.",acceptedFileTypes:["application/pdf"],maxFileSizeMB:10,documentUrl:$(e,V.pasFoto),required:!0,...o})})]})]})},ha={0:G({voucher:j().required("Voucher wajib diisi")}),1:G({nama_lengkap_pemohon:j().min(2,"Nama lengkap minimal 2 karakter").max(100,"Nama lengkap maksimal 100 karakter").matches(/^[A-Za-z√Ä-√ø' -]+$/,"Nama hanya boleh berisi huruf, apostrof (') dan tanda hubung (-)").required("Nama lengkap wajib diisi"),nik_pemohon:j().matches(/^[0-9]{16}$/,"NIK harus terdiri dari 16 digit angka").required("NIK wajib diisi"),no_hp_pemohon:j().matches(/^[0-9]+$/,"Nomor handphone harus angka").required("Nomor handphone wajib diisi"),no_telp_pemohon:j().matches(/^\d*$/,"Nomor telepon harus angka").notRequired(),jenis_kelamin_pemohon:j().required("Jenis kelamin wajib diisi"),status_kawin_pemohon:j().required("Status pernikahan wajib diisi"),email_pemohon:j().email("Email tidak valid").required("Email wajib diisi"),id_pekerjaan_pemohon:j().required("Pekerjaan wajib diisi"),tempat_lahir_pemohon:j().required("Tempat Kelahiran wajib diisi"),id_provinsi_lahir_pemohon:L("tempat_lahir_pemohon","Dalam Negeri","Provinsi kelahiran wajib diisi"),id_kab_kota_lahir_pemohon:L("tempat_lahir_pemohon","Dalam Negeri","Kabupaten/Kota wajib diisi"),id_negara_lahir_pemohon:L("tempat_lahir_pemohon","Luar Negeri","Negara kelahiran wajib diisi"),tgl_lahir_pemohon:W().max(new Date,"Tanggal lahir tidak boleh di masa depan").required("Tanggal lahir wajib diisi"),id_kwn_pemohon:j().notRequired(),id_kwn_asing_pemohon:j().required("Kewarganegaraan asing wajib diisi"),tempat_tinggal_pemohon:j().required("Tempat tinggal wajib diisi"),id_negara_tinggal_pemohon:L("tempat_tinggal_pemohon","Luar Negeri","Negara tinggal wajib diisi"),id_prov_tinggal_pemohon:L("tempat_tinggal_pemohon","Dalam Negeri","Provinsi tinggal wajib diisi"),id_kab_kota_tinggal_pemohon:L("tempat_tinggal_pemohon","Dalam Negeri","Kab/Kota wajib diisi"),alamat_tinggal_pemohon:j().required("Alamat tinggal wajib diisi"),no_akta_lahir_pemohon:j().matches(/^[A-Za-z0-9\/-]+$/,"Nomor akta hanya boleh huruf, angka, '/' atau '-'").required("Nomor akta wajib diisi"),tgl_akta_lahir_pemohon:W().required("Tanggal akta wajib diisi"),no_akta_kawin_ortu_pemohon:j().matches(/^[A-Za-z0-9./-]+$/,"Nomor akta perkawinan hanya boleh huruf, angka, '.', '/' atau '-'").required("Nomor akta perkawinan wajib diisi"),tgl_akta_kawin_ortu_pemohon:W().required("Tanggal akta perkawinan wajib diisi"),no_paspor_ri_pemohon:j().matches(/^[A-Za-z0-9]{9}$/,"Nomor Paspor RI harus 9 karakter, hanya huruf dan angka").required("Nomor Paspor RI wajib diisi"),id_wilayah_paspor_ri_pemohon:j().required("Wilayah terbit paspor wajib diisi"),tgl_exp_paspor_ri_pemohon:W().required("Tanggal kedaluwarsa paspor wajib diisi"),no_paspor_kebangsaan_pemohon:j().matches(/^[A-Za-z0-9\s\/-]+$/,"Nomor Paspor Kebangsaan hanya boleh huruf, angka, spasi, '/' atau '-'").required("Nomor Paspor Kebangsaan wajib diisi"),id_negara_paspor_kebangsaan_pemohon:j().required("Wilayah paspor kebangsaan wajib diisi"),tgl_exp_paspor_kebangsaan_pemohon:W().required("Tanggal kedaluwarsa paspor kebangsaan wajib diisi"),no_dok_keimigrasian_pemohon:j().matches(/^[A-Za-z0-9\s\/-]+$/,"Nomor dokumen hanya boleh huruf, angka, spasi, '/' atau '-'").required("Nomor dokumen keimigrasian wajib diisi"),tgl_dok_keimigrasian_pemohon:W().max(new Date,"Tanggal tidak boleh di masa depan").required("Tanggal dokumen keimigrasian wajib diisi")}),2:G({nama_lengkap_ayah:j().min(2,"Nama lengkap minimal 2 karakter").max(100,"Nama lengkap maksimal 100 karakter").matches(/^[A-Za-z√Ä-√ø' -]+$/,"Nama hanya boleh berisi huruf, apostrof (') dan tanda hubung (-)").required("Nama lengkap ayah wajib diisi"),status_kawin_ayah:j().required("Status pernikahan ayah wajib diisi"),email_ayah:j().email("Email tidak valid").required("Email ayah wajib diisi"),nomor_hp_ayah:j().matches(/^[0-9]+$/,"Nomor HP hanya angka").required("Nomor HP ayah wajib diisi"),id_kwn_asal_ayah:ba().required("Kewarganegaraan ayah wajib diisi"),alamat_tinggal_ayah:j().required("Alamat ayah wajib diisi"),tempat_lahir_ayah:j().required("Tempat Kelahiran wajib diisi"),id_provinsi_lahir_ayah:L("tempat_lahir_ayah","Dalam Negeri","Provinsi kelahiran wajib diisi"),id_kab_kota_lahir_ayah:L("tempat_lahir_ayah","Dalam Negeri","Kab/Kota wajib diisi"),id_negara_lahir_ayah:L("tempat_lahir_ayah","Luar Negeri","Negara kelahiran wajib diisi"),tgl_lahir_ayah:W().required("Tanggal lahir ayah wajib diisi"),nama_lengkap_ibu:j().min(2,"Nama lengkap minimal 2 karakter").max(100,"Nama lengkap maksimal 100 karakter").matches(/^[A-Za-z√Ä-√ø' -]+$/,"Nama hanya boleh berisi huruf, apostrof (') dan tanda hubung (-)").required("Nama lengkap ibu wajib diisi"),status_kawin_ibu:j().required("Status pernikahan ayah wajib diisi"),email_ibu:j().email("Email tidak valid").required("Email ibu wajib diisi"),nomor_hp_ibu:j().matches(/^[0-9]+$/,"Nomor HP hanya angka").required("Nomor HP ibu wajib diisi"),id_kwn_asal_ibu:ba().required("Kewarganegaraan ibu wajib diisi"),alamat_tinggal_ibu:j().required("Alamat ibu wajib diisi"),tempat_lahir_ibu:j().required("Tempat Kelahiran wajib diisi"),id_provinsi_lahir_ibu:L("tempat_lahir_ibu","Dalam Negeri","Provinsi kelahiran wajib diisi"),id_kab_kota_lahir_ibu:L("tempat_lahir_ibu","Dalam Negeri","Kab/Kota kelahiran wajib diisi"),id_negara_lahir_ibu:L("tempat_lahir_ibu","Luar Negeri","Negara Kelahiran wajib diisi"),tgl_lahir_ibu:W().required("Tanggal lahir ibu wajib diisi")}),3:G({suratPermohonan:j().required("Setujui bahwa pengisian formulir sudah sesuai")}),4:G({kutipanAktaKelahiran:J,kutipanAktaPerkawinan:J,pasporRepublik:J,ktp:J,keputusanMenteri:J,pasFoto:J})},ya={voucher:"11111",nama_lengkap_pemohon:"",nik_pemohon:"",no_hp_pemohon:"",no_telp_pemohon:"",jenis_kelamin_pemohon:"",status_kawin_pemohon:"",email_pemohon:"",id_pekerjaan_pemohon:"",tempat_lahir_pemohon:"",id_provinsi_lahir_pemohon:"",id_kab_kota_lahir_pemohon:"",id_negara_lahir_pemohon:"",tgl_lahir_pemohon:"",id_kwn_pemohon:76,id_kwn_asing_pemohon:"",tempat_tinggal_pemohon:"",id_negara_tinggal_pemohon:"",id_prov_tinggal_pemohon:"",id_kab_kota_tinggal_pemohon:"",alamat_tinggal_pemohon:"",no_akta_lahir_pemohon:"",tgl_akta_lahir_pemohon:"",no_akta_kawin_ortu_pemohon:"",tgl_akta_kawin_ortu_pemohon:"",no_paspor_ri_pemohon:"",id_wilayah_paspor_ri_pemohon:"",tgl_exp_paspor_ri_pemohon:"",no_paspor_kebangsaan_pemohon:"",id_negara_paspor_kebangsaan_pemohon:"",tgl_exp_paspor_kebangsaan_pemohon:"",no_dok_keimigrasian_pemohon:"",tgl_dok_keimigrasian_pemohon:"",nama_lengkap_ayah:"",status_kawin_ayah:"",email_ayah:"",nomor_hp_ayah:"",id_kwn_asal_ayah:"",alamat_tinggal_ayah:"",tempat_lahir_ayah:"",id_provinsi_lahir_ayah:"",id_kab_kota_lahir_ayah:"",id_negara_lahir_ayah:"",tgl_lahir_ayah:"",nama_lengkap_ibu:"",status_kawin_ibu:"",email_ibu:"",nomor_hp_ibu:"",id_kwn_asal_ibu:"",alamat_tinggal_ibu:"",tempat_lahir_ibu:"",id_provinsi_lahir_ibu:"",id_kab_kota_lahir_ibu:"",id_negara_lahir_ibu:"",tgl_lahir_ibu:"",suratPermohonan:"",kutipanAktaKelahiran:null,kutipanAktaPerkawinan:null,pasporRepublik:null,ktp:null,srtPernyataanPelepasan:null,keputusanMenteri:null,pasFoto:null};function Ee(n,t,e=!0){const[l,o]=c.useState(!1),[h,u]=c.useState(null),[m,d]=c.useState(null),r=!(t===3||t===5||t===1);return c.useEffect(()=>{if(!e||!n||r)return;console.log("API GET RUN",t),(async()=>{o(!0),u(null);try{const p=await we(n);d(p.data)}catch(p){u(p)}finally{o(!1)}})()},[n,e,t]),{data:m,loading:l,error:h}}const De=()=>{const[n,t]=c.useState(!1),[e,l]=c.useState(null),[o,h]=c.useState(null);return{postPermohonan:async m=>{var d;console.log("üöÄ usePostPermohonan - Starting POST request"),console.log("Data to post:",m),t(!0),l(null),h(null);try{const r={...m,no_telp_pemohon:m.no_telp_pemohon??""},s=await Ne(r);console.log("‚úÖ POST API Response:",s),console.log("Response status:",s.status),console.log("Response data:",s.data);let p;return s.message==="Success"&&(p=s,ie("anakwnganda",s.data.id_permohonan)),console.log("‚úÖ Processed response:",p),h(p),p}catch(r){console.error("‚ùå POST Permohonan Error:",r);let s={message:"Network error",status:null,data:null};r.response?(console.error("API Error Response:",r.response),s={message:((d=r.response.data)==null?void 0:d.message)||`HTTP ${r.response.status}`,status:r.response.status,data:r.response.data}):r.request?(console.error("Network Error:",r.request),s={message:"Network connection failed",status:null,data:null}):(console.error("Unexpected Error:",r.message),s={message:r.message,status:null,data:null}),l(s);const p=new Error(s.message);throw p.response=r.response,p.request=r.request,p.status=s.status,p}finally{t(!1),console.log("üèÅ usePostPermohonan - Request completed")}},loading:n,error:e,response:o}};function Ke(){const[n,t]=c.useState(!1),[e,l]=c.useState(null),[o,h]=c.useState(null),u=xa("anakwnganda");return{patchPermohonan:async d=>{console.log("Data Patch ==>>",d),t(!0),l(null);try{const r=de();console.log({id_voucher:r,id_permohonan:u,...d});const s=await Pe({id_voucher:r,id_permohonan:u,...d,no_telp_pemohon:d.no_telp_pemohon??""});return console.log("Patch response",s),h(s),s}catch(r){throw l(r),r}finally{t(!1)}},loading:n,error:e,response:o}}const Y=[["voucher"],["nama_lengkap_pemohon","nik_pemohon","no_hp_pemohon","no_telp_pemohon","jenis_kelamin_pemohon","status_kawin_pemohon","email_pemohon","id_pekerjaan_pemohon","id_kab_kota_lahir_pemohon","tgl_lahir_pemohon","id_kwn_pemohon","id_kwn_asing_pemohon","tempat_lahir_pemohon","id_provinsi_lahir_pemohon","id_kab_kota_lahir_pemohon","id_negara_lahir_pemohon","tempat_tinggal_pemohon","id_negara_tinggal_pemohon","id_prov_tinggal_pemohon","id_kab_kota_tinggal_pemohon","alamat_tinggal_pemohon","no_akta_lahir_pemohon","tgl_akta_lahir_pemohon","no_akta_kawin_ortu_pemohon","tgl_akta_kawin_ortu_pemohon","no_paspor_ri_pemohon","id_wilayah_paspor_ri_pemohon","tgl_exp_paspor_ri_pemohon","no_paspor_kebangsaan_pemohon","id_negara_paspor_kebangsaan_pemohon","tgl_exp_paspor_kebangsaan_pemohon","no_dok_keimigrasian_pemohon","tgl_dok_keimigrasian_pemohon"],["nama_lengkap_ayah","status_kawin_ayah","email_ayah","nomor_hp_ayah","id_kwn_asal_ayah","alamat_tinggal_ayah","tempat_lahir_ayah","id_provinsi_lahir_ayah","id_kab_kota_lahir_ayah","id_negara_lahir_ayah","tgl_lahir_ayah","nama_lengkap_ibu","status_kawin_ibu","email_ibu","nomor_hp_ibu","id_kwn_asal_ibu","alamat_tinggal_ibu","tempat_lahir_ibu","id_provinsi_lahir_ibu","id_kab_kota_lahir_ibu","id_negara_lahir_ibu","tgl_lahir_ibu"],["suratPermohonan"],["kutipanAktaKelahiran","kutipanAktaPerkawinan","pasporRepublik","ktp","keputusanMenteri","pasFoto"]],Fe=()=>{const n=c.useCallback(async(e,l)=>{const o=ha[e],h=Y[e],u=ca(l.values,h);if(console.log("NEXT DATA",u),e===4&&(console.log("=== DEBUG STEP 4 VALIDATION ==="),console.log("Current step values:",u),console.log("All formik values:",l.values),h.forEach(d=>{const r=l.values[d];console.log(`${d}:`,{value:r,type:typeof r,isFile:r instanceof File,isObject:r&&typeof r=="object",hasId:r&&r.id,hasUrl:r&&r.url,hasFilePath:r&&r.file_path})})),!o)return{isValid:!0,errors:{}};const m={...l.touched};h.forEach(d=>{m[d]=!0}),l.setTouched(m);try{const d=h.reduce((s,p)=>(s[p]=l.values[p],s),{});await o.validate(d,{abortEarly:!1});const r={...l.errors};return h.forEach(s=>{delete r[s]}),l.setErrors(r),{isValid:!0,errors:{},step:e,data:u}}catch(d){console.log("Validation error for step",e,":",d);const r={};return d.inner&&d.inner.forEach(s=>{r[s.path]=s.message}),l.setErrors({...l.errors,...r}),{isValid:!1,errors:r,data:{}}}},[]),t=c.useCallback(async e=>{const l={};let o=!1;for(let h=0;h<Y.length;h++){const u=ha[h],m=Y[h];if(u)try{const d=m.reduce((r,s)=>(r[s]=e.values[s],r),{});await u.validate(d,{abortEarly:!1})}catch(d){o=!0;const r={};d.inner&&d.inner.forEach(s=>{r[s.path]=s.message}),l[h]=r}}return{hasErrors:o,allStepErrors:l}},[]);return{validateCurrentStep:n,validateAllSteps:t}},Ie=(n,t,e,l)=>{const o=new _a,h=c.useCallback(async d=>{if(await o.customConfirmation("Apakah anda yakin akan menyimpan data ke draft?")){const s=l(d);console.log("Draft values for current step (processed):",s),console.log(n);try{let p;return n?(p=await e(s),p.message==="Success"&&da("Berhasil memperbarui draft")):(p=await t(s),p.message==="Success"&&da("Berhasil menyimpan ke draft")),p}catch(p){throw console.error("Error saving draft:",p),o.customWarningMsg("Gagal menyimpan draft"),p}}return null},[n,t,e,l,o]),u=c.useCallback((d,r)=>{if(!d||!d.fields)return G({});const s={};return Object.keys(r).forEach(p=>{const x=r[p];x!==""&&x!==null&&x!==void 0&&d.fields[p]&&(s[p]=d.fields[p])}),G(s)},[]),m=c.useCallback(async(d,r,s)=>{const p=Y[d],x=ha[d];let b=!1;const k=ca(r.values,p),T=p.reduce((P,v)=>(P[v]=r.values[v],P),{});if(Object.keys(ca(T,p)).length===0){o.customWarningMsg("Tidak ada data yang perlu disimpan pada langkah ini. Harap isi form jika ingin menyimpan ke draft.");return}try{if(x){const A=u(x,k);console.log("SELECTIVE SCHEMA",A),await A.validate(k,{abortEarly:!1})}const P={...r.errors};p.forEach(A=>{delete P[A]}),r.setErrors(P),s(A=>{const D={...A};return D[d]&&(p.forEach(y=>delete D[d][y]),Object.keys(D[d]).length===0&&delete D[d]),D}),console.log("EXECUTE TRY SAVEDRAFT");const v=await h(k);v?console.log("‚úÖ Draft saved successfully:",v):console.log("‚ÑπÔ∏è User cancelled draft save")}catch(P){const v={};P.inner&&P.inner.forEach(A=>{p.includes(A.path)&&T[A.path]!==void 0&&T[A.path]!==null&&T[A.path]!==""&&(v[A.path]=A.message,b=!0)}),b&&(r.setErrors({...r.errors,...v}),s(A=>({...A,[d]:v})),o.customWarningMsg("Beberapa input yang diisi memiliki format yang tidak valid. Mohon periksa kembali."))}},[h,o]);return{saveDraft:h,handleDraft:m}},qe=(n,t,e,l)=>{const o=new _a,h=c.useCallback(async(m,d,r,s,p,x,b)=>{const k=await x(m,b),T=Y[m];if(!k.isValid){console.log("validation current step",k),o.customWarningMsg("harap melengkapi formulir sebelum ke langkah selanjutnya.");return}r(y=>{const w={...y};return delete w[m],w}),s(y=>new Set([...y,m]));const P=m===3,v=m===4,A=m===5;if(P){console.log("üìù Step 3 (Surat Permohonan): Skipping API call, moving to next step"),d(y=>y+1),p(y=>{const w=new Set(y);return w.delete(m),w});return}if(v){console.log("üìé Step 4 (Upload): step, preparing for submission"),d(y=>y+1),p(y=>{const w=new Set(y);return w.delete(m),w});return}if(A){console.log("üìé Step 5 (pratinjau): Final step, preparing for submission"),d(y=>y+1),p(y=>{const w=new Set(y);return w.delete(m),w});return}const D=T.reduce((y,w)=>(y[w]=b.values[w],y),{});console.log("dataToSave",D);try{const y=l(D);let w;n?(console.log("Process data to API PATCH ===>>>",y),w=await e(y,n)):(console.log("Process data to API POST ===>>>",y),w=await t(y)),d(I=>I+1),p(I=>{const K=new Set(I);return K.delete(m),K})}catch(y){console.error("API Error:",y),o.customWarningMsg("Gagal menyimpan data. Silakan coba lagi.")}},[n,t,e,l,o]),u=c.useCallback(async(m,d,r)=>{m===1?await o.customConfirmation("Keluar pada formulir akan menghapus semua riwayat pengisian, harap simpan di draft jika akan melanjutkan nanti")&&r():d(s=>s-1)},[o]);return{handleNext:h,handleBack:u}},Le=(n,t,e)=>{const l=new _a,[o,h]=c.useState(!1),u=Ma(),[m,d]=c.useState(!1);return{handleSubmit:c.useCallback(async(s,p,x,b,k)=>{var T;if(console.log("=== SUBMIT HANDLER ==="),console.log("Active Step:",s),console.log("Current Formik Values:",p.values),s!==5){console.log("‚ùå Not on final step, cannot submit");return}h(!0);try{console.log("üîç Validating all steps before submission...");const{hasErrors:P,allStepErrors:v}=await x(p);if(console.log("Validation result:",{hasErrors:P,allStepErrors:v}),P){console.log("‚ùå Form has validation errors:",v),b(v);const I={};Object.values(v).forEach(C=>{Object.assign(I,C)}),p.setErrors(I);const K=Y.flat().reduce((C,R)=>(C[R]=!0,C),{});p.setTouched(K),aa("Harap melengkapi formulir sebelum melakukan submit atau lakukan refresh");return}if(console.log("‚úÖ All validation passed, proceeding with submission..."),!await l.confirmationCreate()){console.log("‚ÑπÔ∏è User cancelled submission");return}k(!0),console.log("üöÄ Submitting form...");const D=e(p.values);console.log("Payload di proses",D);const y={id_permohonan:n,status_permohonan:1,status_aktivitas:2};console.log("Final submission payload:",y);const w=await ve(y);if(console.log("‚úÖ Submission response:",w),w&&w.message==="Success")da("Berhasil Membuat Permohonan!, Mengalihkan..."),setTimeout(()=>{re("anakwnganda"),d(!0)},3e3);else throw new Error((w==null?void 0:w.message)||"Submission failed")}catch(P){if(console.error("‚ùå Submission error:",P),P.response){const v=((T=P.response.data)==null?void 0:T.message)||"Terjadi kesalahan pada server";oa(v)}else P.request?oa("Gagal terhubung ke server. Periksa koneksi internet."):oa(P.message||"Terjadi kesalahan tidak terduga")}finally{h(!1),k(!1),console.log("=== END SUBMIT HANDLER ===")}},[n,t,e,l,u]),submitLoading:o,successSubmit:m}},sa="Dalam Negeri",la="Luar Negeri",Ce=(n,t)=>{const[e,l]=c.useState(t?1:0),[o,h]=c.useState(new Set),[u,m]=c.useState({}),[d,r]=c.useState(new Set),[s,p]=c.useState(!1),{loading:x,error:b,data:k}=Ee(t,e),{postPermohonan:T,response:P,loading:v,error:A}=De(),{patchPermohonan:D,response:y,loading:w,error:I}=Ke(),K=t,C=c.useMemo(()=>k&&k.id_permohonan===K?{...ya,...k}:ya,[k,K]),R=c.useCallback(X=>{const E={...X};return console.log("PROCESSED PAYLOAD",E),E.tempat_lahir_pemohon===sa?delete E.id_negara_lahir_pemohon:E.tempat_lahir_pemohon===la&&(delete E.id_provinsi_lahir_pemohon,delete E.id_kab_kota_lahir_pemohon),E.tempat_tinggal_pemohon===sa?delete E.id_negara_tinggal_pemohon:E.tempat_tinggal_pemohon===la&&(delete E.id_provinsi_tinggal_pemohon,delete E.id_kab_kota_tinggal_pemohon),E.tempat_lahir_ayah===sa?delete E.id_negara_lahir_ayah:E.tempat_lahir_ayah===la&&(delete E.id_provinsi_lahir_ayah,delete E.id_kab_kota_lahir_ayah),E.tempat_lahir_ibu===sa?delete E.id_negara_lahir_ibu:E.tempat_lahir_ibu===la&&(delete E.id_provinsi_lahir_ibu,delete E.id_kab_kota_lahir_ibu),E},[]),{validateCurrentStep:Z,validateAllSteps:ia}=Fe(),{handleDraft:ra}=Ie(K,T,D,R),{handleNext:q,handleBack:U}=qe(K,T,D,R),{handleSubmit:ka,successSubmit:Pa}=Le(K,D,R),M=fa({enableReinitialize:!0,validateOnChange:!0,validateOnBlur:!0,initialValues:C,validationSchema:ha[e],onSubmit:async X=>{console.log("Formik onSubmit called with:",X)}});c.useEffect(()=>{ta()},[n]);const ta=c.useCallback(()=>{l(t?1:0),M.resetForm(),m({}),r(new Set),h(new Set)},[M,t]),Sa=c.useCallback(X=>o.has(X),[o]),va=c.useCallback(()=>q(e,l,m,r,h,Z,M),[e,q,Z,M]),Ta=c.useCallback(()=>U(e,l,ta),[e,U,ta]),Aa=c.useCallback(()=>ra(e,M,m),[e,M,ra]),Ea=c.useCallback(()=>ka(e,M,ia,m,p),[e,M,ka,ia]);return{activeStep:e,setActiveStep:l,skipped:o,stepErrors:u,completedSteps:d,isSubmitting:s,formik:M,isStepSkipped:Sa,handleNext:va,handleBack:Ta,handleDraft:Aa,handleSubmit:Ea,resetForm:ta,dataPermohonan:k,loadingGet:x,postLoading:v,patchLoading:w,successSubmit:Pa,processPayloadBasedOnTempatLahir:R}},Re=({steps:n,activeStep:t,isStepSkipped:e,isStepValid:l,isStepHasError:o})=>{const h=(u,m,d)=>{let r="#fff",s="#041662",p="#E7E7E7";return(m||d)&&(r="#041662",s="#fff",p="#041662"),a.jsx("div",{style:{width:24,height:24,borderRadius:"50%",border:`1px solid ${p}`,backgroundColor:r,display:"flex",alignItems:"center",justifyContent:"center",color:s,transition:"all 0.3s ease"},children:u+1})};return a.jsx(za,{activeStep:t,alternativeLabel:!0,connector:a.jsx(he,{}),children:n.map((u,m)=>{const d={};return e(m)?d.completed=!1:m<t&&(d.completed=!0),a.jsx(Ua,{...d,children:a.jsx(Wa,{StepIconComponent:({active:r,completed:s})=>h(m,r,s),children:a.jsx("span",{style:{fontFamily:"Poppins",fontWeight:400,fontSize:"12px",lineHeight:"18px",color:"#888888"},children:u.label})})},u.id)})})},Be=Re,Me=({handleSubmit:n,handleNext:t,handleBack:e,handleDraft:l,activeStep:o,stepsResult:h,isSubmitting:u=!1,postLoading:m=!1,patchLoading:d=!1})=>{const r=o===5,s=o===0,p=o>0&&![3,4,5].includes(o);return a.jsxs(S,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:0,pt:2,px:2},children:[o>1&&a.jsx(B,{text:"Kembali",bgColor:"transparent",border:"1px solid #E7E7E7",textColor:"#041662",disabled:s,onClick:e}),p&&a.jsx(B,{text:"Draft",bgColor:"#f97316",border:"1px solid #E7E7E7",textColor:"#fff",hoverColor:"#ea580c",onClick:l,rightIcon:a.jsx(pe,{fontSize:"14px"}),loading:m||d}),!r&&a.jsx(B,{onClick:t,loading:m||d,text:"Selanjutnya",bgColor:"#041662",hoverColor:"#1e40af"}),r&&a.jsx(B,{onClick:n,text:"Submit Permohonan",bgColor:"#041662",hoverColor:"#1e40af",loading:u})]})},ze=Me,Ue=({formik:n,setActiveStep:t})=>{const{values:e}=n,l=()=>{t(h=>h-4)},o=e.tempat_tinggal_pemohon==="Dalam Negeri";return a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Data Alamat Pemohon",buttonText:"Ubah",onButtonClick:l}),a.jsxs(S,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:[a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",children:g("Tempat Tinggal",e.tempat_tinggal_pemohon)}),o?a.jsxs(a.Fragment,{children:[a.jsx(i,{xs:"12",md:"6",children:g("Provinsi Tinggal",e.prov_tinggal_pemohon_text)}),a.jsx(i,{xs:"12",md:"6",children:g("Kab/Kota Tinggal",e.kab_kota_tinggal_pemohon_text)})]}):a.jsx(i,{xs:"12",md:"6",children:g("Negara Tinggal",e.negara_tinggal_pemohon_text)})]}),a.jsx(_,{children:a.jsx(i,{xs:"12",md:"6",children:g("Alamat Tinggal",e.alamat_tinggal_pemohon)})})]})]})},We=({formik:n,setActiveStep:t})=>{var o,h;const{values:e}=n,l=()=>{t(u=>u-4)};return a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Informasi Pemohon",buttonText:"Ubah",onButtonClick:l}),a.jsxs(S,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:[a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",children:g("Nama Lengkap",e.nama_lengkap_pemohon)}),a.jsx(i,{xs:"12",md:"6",children:g("NIK/NIT",e.nik_pemohon)})]}),a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",children:g("No HP",e.no_hp_pemohon)}),a.jsx(i,{xs:"12",md:"6",children:g("No Telepon Rumah",e.no_telp_pemohon)})]}),a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",children:g("Jenis Kelamin",((o=e.jenis_kelamin_pemohon)==null?void 0:o.label)||e.jenis_kelamin_pemohon)}),a.jsx(i,{xs:"12",md:"6",children:g("Status Perkawinan",((h=e.status_kawin_pemohon)==null?void 0:h.label)||e.status_kawin_pemohon)})]}),a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",children:g("Email",e.email_pemohon)}),a.jsx(i,{xs:"12",md:"6",children:g("Pekerjaan",e.pekerjaan_pemohon_text)})]}),a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",children:g("Tempat Lahir",e.tempat_lahir_pemohon)}),a.jsx(i,{xs:"12",md:"6",children:g("Tanggal Lahir",F(e.tgl_lahir_pemohon))})]}),a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",children:g("Kewarganegaraan Kelahiran","Indonesia")}),a.jsx(i,{xs:"12",md:"6",children:g("Kewarganegaraan Asing",e.kwn_asing_pemohon_text)})]}),e.tempat_lahir_pemohon==="Dalam Negeri"?a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",children:g("Provinsi Kelahiran",e.provinsi_lahir_pemohon_text)}),a.jsx(i,{xs:"12",md:"6",children:g("Kab/Kota Kelahiran",e.kab_kota_lahir_pemohon_text)})]}):a.jsx(_,{children:a.jsx(i,{xs:"12",md:"6",children:g("Negara Kelahiran",e.negara_lahir_pemohon_text)})})]})]})},Ve=({formik:n,setActiveStep:t})=>{const{values:e}=n,l=()=>{t(h=>h-3)},o=e.tempat_lahir_ayah==="Dalam Negeri";return a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Informasi Data Ayah",buttonText:"Ubah",onButtonClick:l}),a.jsxs(S,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:[a.jsxs(_,{children:[a.jsx(i,{md:"6",children:g("Nama Lengkap",e.nama_lengkap_ayah)}),a.jsx(i,{md:"6",children:g("Status Perkawinan",e.status_kawin_ayah)})]}),a.jsxs(_,{children:[a.jsx(i,{md:"6",children:g("Email",e.email_ayah)}),a.jsx(i,{md:"6",children:g("Nomor HP",e.nomor_hp_ayah)})]}),a.jsxs(_,{children:[a.jsx(i,{md:"6",children:g("Kewarganegaraan Asal",e.kwn_asal_ayah_text)}),a.jsx(i,{md:"6",children:g("Alamat Tinggal",e.alamat_tinggal_ayah)})]}),a.jsxs(_,{children:[a.jsx(i,{md:"6",children:g("Tempat Lahir",e.tempat_lahir_ayah)}),a.jsx(i,{md:"6",children:g("Tanggal Lahir",F(e.tgl_lahir_ayah))})]}),a.jsx(_,{children:o?a.jsxs(a.Fragment,{children:[a.jsx(i,{md:"6",children:g("Provinsi Tempat Lahir",e.provinsi_lahir_ayah_text)}),a.jsx(i,{md:"6",children:g("Kab/Kota Tempat Lahir",e.kab_kota_lahir_ayah_text)})]}):a.jsx(i,{md:"6",children:g("Negara Tempat Lahir",e.negara_lahir_ayah_text)})})]})]})},He=({formik:n,setActiveStep:t})=>{const{values:e}=n,l=()=>{t(h=>h-3)},o=e.tempat_lahir_ibu==="Dalam Negeri";return a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Informasi Data Ibu",buttonText:"Ubah",onButtonClick:l}),a.jsxs(S,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:[a.jsxs(_,{children:[a.jsx(i,{md:"6",children:g("Nama Lengkap",e.nama_lengkap_ibu)}),a.jsx(i,{md:"6",children:g("Status Perkawinan",e.status_kawin_ibu)})]}),a.jsxs(_,{children:[a.jsx(i,{md:"6",children:g("Email",e.email_ibu)}),a.jsx(i,{md:"6",children:g("Nomor HP",e.nomor_hp_ibu)})]}),a.jsxs(_,{children:[a.jsx(i,{md:"6",children:g("Kewarganegaraan Asal",e.kwn_asal_ibu_text)}),a.jsx(i,{md:"6",children:g("Alamat Tinggal",e.alamat_tinggal_ibu)})]}),a.jsxs(_,{children:[a.jsx(i,{md:"6",children:g("Tempat Lahir",e.tempat_lahir_ibu)}),a.jsx(i,{md:"6",children:g("Tanggal Lahir",F(e.tgl_lahir_ibu))})]}),a.jsx(_,{children:o?a.jsxs(a.Fragment,{children:[a.jsx(i,{md:"6",children:g("Provinsi Tempat Lahir",e.provinsi_lahir_ibu_text)}),a.jsx(i,{md:"6",children:g("Kab/Kota Tempat Lahir",e.kab_kota_lahir_ibu_text)})]}):a.jsx(i,{md:"6",children:g("Negara Tempat Lahir",e.negara_lahir_ibu_text)})})]})]})},Ge=({formik:n,setActiveStep:t})=>{const{values:e}=n,l=()=>{t(o=>o-4)};return a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Dokumen Keimigrasian",buttonText:"Ubah",onButtonClick:l}),a.jsx(S,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",children:g("Nomor Dokumen Keimigrasian",e.no_dok_keimigrasian_pemohon)}),a.jsx(i,{xs:"12",md:"6",children:g("Tanggal Dokumen Keimigrasian",F(e.tgl_dok_keimigrasian_pemohon))})]})})]})},Oe=({formik:n,setActiveStep:t})=>{const{values:e}=n,l=()=>{t(o=>o-4)};return a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Dokumen Kelahiran",buttonText:"Ubah",onButtonClick:l}),a.jsx(S,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",children:g("Nomor Akta/Bukti Kelahiran",e.no_akta_lahir_pemohon)}),a.jsx(i,{xs:"12",md:"6",children:g("Tanggal Akta/Bukti Kelahiran",F(e.tgl_akta_lahir_pemohon))})]})})]})},$e=({formik:n,setActiveStep:t})=>{const{values:e}=n,l=()=>{t(o=>o-4)};return a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Dokumen Perjalanan",buttonText:"Ubah",onButtonClick:l}),a.jsxs(S,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:[a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",children:g("Nomor Paspor RI",e.no_paspor_ri_pemohon)}),a.jsx(i,{xs:"12",md:"6",children:g("Wilayah Terbit Paspor RI",e.wilayah_paspor_ri_pemohon_text)}),a.jsx(i,{xs:"12",md:"6",children:g("Tanggal Kedaluwarsa Paspor RI",F(e.tgl_exp_paspor_ri_pemohon))})]}),a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",children:g("Nomor Paspor Kebangsaan",e.no_paspor_kebangsaan_pemohon)}),a.jsx(i,{xs:"12",md:"6",children:g("Wilayah Terbit Paspor Kebangsaan",e.negara_paspor_kebangsaan_pemohon_text)}),a.jsx(i,{xs:"12",md:"6",children:g("Tanggal Kedaluwarsa Paspor Kebangsaan",F(e.tgl_exp_paspor_kebangsaan_pemohon))})]})]})]})},Je=({formik:n,setActiveStep:t})=>{const{values:e}=n,l=()=>{t(o=>o-4)};return a.jsxs(a.Fragment,{children:[a.jsx(H,{title:"Dokumen Perkawinan Orang Tua",buttonText:"Ubah",onButtonClick:l}),a.jsx(S,{className:"form-horizontal border border-1 rounded-4 px-4 py-3",children:a.jsxs(_,{children:[a.jsx(i,{xs:"12",md:"6",children:g("Nomor Akta Perkawinan / Buku Nikah",F(e.no_akta_kawin_ortu_pemohon))}),a.jsx(i,{xs:"12",md:"6",children:g("Tanggal Akta Perkawinan / Buku Nikah",F(e.tgl_akta_kawin_ortu_pemohon))})]})})]})},Ye=({formik:n,setActiveStep:t})=>a.jsxs("div",{className:"mt-3",children:[a.jsx(We,{formik:n,setActiveStep:t}),a.jsx(Ue,{formik:n,setActiveStep:t}),a.jsx(Oe,{formik:n,setActiveStep:t}),a.jsx(Je,{formik:n,setActiveStep:t}),a.jsx($e,{formik:n,setActiveStep:t}),a.jsx(Ge,{formik:n,setActiveStep:t}),a.jsx(Ve,{formik:n,setActiveStep:t}),a.jsx(He,{formik:n,setActiveStep:t})]});function un({label:n="Formulir Permohonan"}){const t=xa("anakwnganda"),e=Va(),{activeStep:l,setActiveStep:o,stepErrors:h,completedSteps:u,isSubmitting:m,formik:d,isStepSkipped:r,handleNext:s,handleBack:p,handleDraft:x,handleSubmit:b,loadingGet:k,postLoading:T,patchLoading:P,successSubmit:v}=Ce(n,t),A=[{id:"1",label:"Boarding",component:a.jsx(ce,{formik:d,setActiveStep:o,label:n})},{id:"2",label:"Identitas Pemohon",stepNumber:"Langkah 2",component:a.jsx(ke,{formik:d})},{id:"3",label:"Identitas Orang Tua",stepNumber:"Langkah 2",component:a.jsx(ye,{formik:d})},{id:"4",label:"Surat Permohonan",stepNumber:"Langkah 3",component:a.jsx(fe,{formik:d})},{id:"5",label:"Unggah Dokumen",stepNumber:"Langkah 4",component:a.jsx(Ae,{formik:d})},{id:"6",label:"Pratinjau Formulir",stepNumber:"Langkah 5",component:a.jsx(Ye,{formik:d,setActiveStep:o})}],D=t?A.filter(q=>q.id!=="1"):A,w={"Formulir Permohonan":t?["2","3","4","5","6"]:["1","2","3","4","5","6"]}[n]||[],I=te(D,w),K=I.filter(q=>q.stepNumber),C=t?l-1:l,R=I[C<0?0:C]||t&&I[0],Z=se(K,I[C<0?0:C]),ia=q=>{const U=t?q+1:q;return!h[U]&&u.has(U)},ra=q=>{const U=t?q+1:q;return h[U]&&Object.keys(h[U]).length>0};return c.useEffect(()=>{e(Ha()),e(Ga()),e(Oa()),e($a()),e(Ja())},[]),a.jsxs(S,{className:"bg-white page-content mb-4",sx:{width:"100%"},children:[!v&&K.length>0&&Z>=0&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"mb-4",style:{fontWeight:500,fontSize:24,color:"#262626"},children:"Formulir Pendaftaran"}),a.jsx(Be,{steps:K,activeStep:Z,isStepSkipped:r,isStepValid:ia,isStepHasError:ra})]}),k?a.jsx(le,{}):v?a.jsx(oe,{title:"Pendaftaran Berhasil!",subTitle:"Verifikasi akan dilakukan setelah dokumen fisik diterima secara lengkap oleh Subdit Kewarganegaraan dalam waktu paling lama 3 (tiga) hari terhiitung sejak tanggal permohonan diterima.",redirectUrl:"/kewarganegaraan/pernyataan-wni/anak-kewarganegaraan-ganda"}):a.jsxs(S,{children:[(R==null?void 0:R.component)||a.jsx(S,{sx:{p:2,textAlign:"center"},children:a.jsx("p",{children:"Step tidak ditemukan"})}),l>=1&&a.jsx(ze,{handleSubmit:b,handleNext:s,handleBack:p,handleDraft:x,activeStep:l,stepsResult:R,isSubmitting:m,postLoading:T,patchLoading:P}),l===1&&a.jsx("div",{className:"d-flex justify-content-center align-items-center",children:a.jsxs(me,{sx:{marginTop:"10px",width:"100%"},children:[a.jsx("p",{className:"fs-5",children:"Jenis dokumen Surat Keterangan Imigrasi yang diunggah oleh pemohon dikelompokkan berdasarkan tahun kelahiran sebagai berikut:"}),a.jsx("p",{className:"fs-6",children:"1. Anak yang lahir sebelum tanggal 1 Agustus 2006, yang memiliki Keputusan Menteri tentang Kewarganegaraan Republik Indonesia"}),a.jsx("p",{className:"fs-6",children:"2. Anak yang lahir setelah tanggal 1 Agustus 2006, yang memiliki Affidavit. atau,"}),a.jsx("p",{className:"fs-6",children:"3. Anak yang memiliki surat keterangan Kewarganegaraan dari Direktur Jenderal"})]})})]})]})}export{un as default};
