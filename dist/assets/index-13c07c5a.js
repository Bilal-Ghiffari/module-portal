import{j as a,aG as g,bL as y,bM as j,r as l,bz as C,bK as F,bN as _,bO as b,bP as B,bQ as A,bR as v,bS as N,bT as w}from"./index-cb7bfd5e.js";import{C as z}from"./Table-6639e511.js";import{a as T}from"./api-958718a4.js";const I=({steps:e,notifications:t})=>a.jsxs(g,{sx:{display:"flex",flexDirection:"column",gap:2},children:[a.jsx(y,{notifications:t}),a.jsx(j,{logs:e,title:"Log Permohonan 1192",activeStep:2})]}),x={currentPage:1,totalPage:1,totalData:0},L=(e={page:1,limit:10})=>{const[t,s]=l.useState([]),[r,u]=l.useState(!0),[h,c]=l.useState(null),[i,p]=l.useState(x);return l.useEffect(()=>{const m=new AbortController;return(async()=>{u(!0),c(null);try{const o=await T(e,{signal:m.signal});s((o==null?void 0:o.data)||[]),p((o==null?void 0:o.pagination)||x)}catch(o){o.name!=="AbortError"&&(c(o),s([]))}finally{u(!1)}})(),()=>m.abort()},[e.page,e.limit]),{data:t,loading:r,error:h,pagination:i,totalItems:i.totalData}},R=e=>{switch(e){case 0:return{bgColor:"#C8E6C9",textColor:"#2E7D32"};case 1:return{bgColor:"#BBDEFB",textColor:"#1565C0"};case 2:return{bgColor:"#FFF9C4",textColor:"#F9A825"};case 3:return{bgColor:"#FFCDD2",textColor:"#C62828"};case 4:return{bgColor:"#D1C4E9",textColor:"#6A1B9A"};default:return{bgColor:"#E0E0E0",textColor:"#424242"}}},K=e=>["Sudah Bayar","Dikirim","Verifikasi","Ditolak","Revisi"][e]||"Tidak Diketahui",V=({applications:e})=>{const[t,s]=l.useState(1),[r,u]=l.useState(10),[h,c]=l.useState(""),{data:i,loading:p,error:m,pagination:o}=L({page:t,limit:r}),k=(i==null?void 0:i.map((n,d)=>{const{bgColor:D,textColor:E}=R(n.status_permohonan);return{no:(t-1)*r+d+1,id_permohonan:n.id_permohonan,nama_lengkap_pemohon:n.nama_lengkap_pemohon,created_at:new Date(n.created_at).toLocaleDateString("id-ID"),status:K(n.status_permohonan),statusColor:D,textColor:E}}))||[],P=n=>{s(n)},f=n=>{c(n),s(1)},S=[{id:"no",label:"No"},{id:"nama_lengkap_pemohon",label:"Nama Lengkap"},{id:"id_permohonan",label:"id_permohonan"},{id:"created_at",label:"Tanggal Permohonan"},{id:"status",label:"Status",renderCell:(n,d)=>a.jsx(C,{label:n,size:"small",style:{backgroundColor:d.statusColor},sx:{fontWeight:500,fontFamily:"Poppins",fontSize:"12px",color:d.textColor,borderRadius:"4px",boxShadow:"0px 1px 3px rgba(0,0,0,0.2)"}})}];return a.jsx(z,{data:k,totalItems:o.totalData,currentPage:t,itemsPerPage:r,title:"Riwayat Permohonan",columns:S,enableSearch:!0,searchKeys:["nama_lengkap","negara_asal"],enablePagination:!0,url:"/pewarganegaraan/dashboard/detail-permohonan",emptyMessage:"Tidak ada permohonan yang cocok dengan pencarian Anda.",onPageChange:P,onSearch:f,loading:p})},J=({vouchers:e})=>{const t=[{id:"no",label:"No"},{id:"voucherCode",label:"Kode Voucher"},{id:"service",label:"Layanan"},{id:"expiryDate",label:"Tanggal Kedaluarsa"},{id:"purchaseAmount",label:"Jumlah Pembelian"},{id:"billAmount",label:"Jumlah Tagihan"},{id:"status",label:"Status",renderCell:(s,r)=>a.jsx(C,{label:s,size:"small",style:{backgroundColor:r.statusColor},sx:{fontWeight:500,fontFamily:"Poppins",fontSize:"12px",color:r.textColor}})}];return a.jsx(F,{data:e,title:"Riwayat Pembelian Voucher",columns:t,enableSearch:!0,searchKeys:["name","applicationNumber"],enablePagination:!0,rowsPerPage:5,emptyMessage:"Tidak ada permohonan yang cocok dengan pencarian Anda."})},O=()=>{const e={name:"Fauzi Iskandar Batubara",email:"fauziiskandar@gmail.com",avatar:"/api/placeholder/50/50"},t=[{no:1,name:"Fauzi Iskandar Batubara",applicationNumber:"1192",date:"24-08-2024",status:"Belum Verifikasi",statusColor:"#FDEED7",textColor:"#E06016"},{no:2,name:"Fauzi Iskandar Batubara",applicationNumber:"1180",date:"12-08-2024",status:"Terverifikasi",statusColor:"#D8F3E0",textColor:"#1F7C4D"},{no:3,name:"Fauzi Iskandar Batubara",applicationNumber:"1129",date:"04-08-2024",status:"Ditolak",statusColor:"#FCE4E4",textColor:"#CF3533"},{no:4,name:"Fauzi Iskandar Batubara",applicationNumber:"1142",date:"04-08-2024",status:"Ditolak",statusColor:"#FCE4E4",textColor:"#CF3533"}],s=[{no:1,voucherCode:"865174857637485",service:"Penanggungjawaban keuangan/mutasi",expiryDate:"24-09-2024",billAmount:"Rp15.000.000",purchaseAmount:1,status:"Belum Bayar",statusColor:"#FCE4E4",textColor:"#CF3533"}],r=[{title:"Permohonan 1192 ditolak",subtitle:"Silahkan klik untuk melihat detail ",icon:a.jsx(N,{color:"error"}),status:"rejected"},{title:"Permohonan 1192 ditolak",subtitle:"Silahkan klik untuk melihat detail ",icon:a.jsx(w,{color:"primary"}),status:"verified"}],u=[{label:"Input Kode Voucher",description:"24 Juli 2025"},{label:"Pendaftaran",description:"24 Juli 2025"},{label:"Verifikasi",description:"24 Juli 2025"},{label:"SK Terbit",description:"24 Juli 2025"}];return a.jsxs(_,{className:"page-content bg-white px-3 px-sm-4 px-md-5 mt-3",children:[a.jsxs(b,{container:!0,spacing:3,children:[a.jsxs(b,{item:!0,xs:12,md:8,lg:8,children:[a.jsxs(g,{sx:{border:"1px solid #E7E7E7",borderRadius:"8px",padding:"20px",mb:2},children:[a.jsx(B,{}),a.jsx(A,{sx:{my:2,color:"#E7E7E7"}}),a.jsx(v,{userProfile:e})]}),a.jsx(g,{className:"my-3",children:a.jsx(V,{applications:t})})]}),a.jsx(b,{item:!0,xs:12,md:4,lg:4,children:a.jsx(I,{steps:u,notifications:r})})]}),a.jsx(J,{vouchers:s})]})};export{O as default};
